# IMCAT UI ë²ˆë“¤ë§ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

IMCAT UIì˜ ë¹Œë“œ, ë²ˆë“¤ë§, ìµœì í™” í”„ë¡œì„¸ìŠ¤ ê°€ì´ë“œì…ë‹ˆë‹¤.

**í•µì‹¬ ì›ì¹™:**

- ì œë¡œ ë¹Œë“œ ìš°ì„  (ì„ íƒì  ë²ˆë“¤ë§)
- ìµœì†Œ íŒŒì¼ í¬ê¸°
- íŠ¸ë¦¬ ì‰ì´í‚¹ ì§€ì›
- í”„ë¡œë•ì…˜ ìµœì í™”

---

## ğŸ—ï¸ ë¹Œë“œ êµ¬ì¡°

### ê°œë°œ vs í”„ë¡œë•ì…˜

```text
imcat-ui/
â”œâ”€â”€ src/                    # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ modules/
â”‚   â””â”€â”€ styles/
â”‚
â”œâ”€â”€ dist/                   # ë¹Œë“œ ê²°ê³¼ë¬¼
â”‚   â”œâ”€â”€ imcat-ui.js        # ê°œë°œìš© (ì£¼ì„ í¬í•¨)
â”‚   â”œâ”€â”€ imcat-ui.min.js    # í”„ë¡œë•ì…˜ìš© (ì••ì¶•)
â”‚   â”œâ”€â”€ imcat-ui.css
â”‚   â”œâ”€â”€ imcat-ui.min.css
â”‚   â””â”€â”€ modules/            # ê°œë³„ ëª¨ë“ˆ
â”‚       â”œâ”€â”€ modal.js
â”‚       â”œâ”€â”€ modal.min.js
â”‚       â”œâ”€â”€ modal.css
â”‚       â””â”€â”€ ...
â”‚
â””â”€â”€ package.json
```

---

## ğŸ“¦ ë²ˆë“¤ë§ ë„êµ¬

### Rollup ì„¤ì •

#### rollup.config.js

```javascript
import { terser } from 'rollup-plugin-terser';
import scss from 'rollup-plugin-scss';
import babel from '@rollup/plugin-babel';

const production = !process.env.ROLLUP_WATCH;

// ì½”ì–´ ë²ˆë“¤
const coreConfig = {
  input: 'src/core/index.js',
  output: [
    {
      file: 'dist/imcat-ui.js',
      format: 'esm',
      sourcemap: !production
    },
    {
      file: 'dist/imcat-ui.min.js',
      format: 'esm',
      plugins: [terser()],
      sourcemap: production
    }
  ],
  plugins: [
    babel({
      babelHelpers: 'bundled',
      exclude: 'node_modules/**'
    }),
    scss({
      output: 'dist/imcat-ui.css',
      outputStyle: production ? 'compressed' : 'expanded'
    })
  ]
};

// ëª¨ë“ˆ ë²ˆë“¤ (ê°œë³„)
const moduleConfig = {
  input: {
    modal: 'src/modules/modal/modal.js',
    dropdown: 'src/modules/dropdown/dropdown.js',
    tooltip: 'src/modules/tooltip/tooltip.js',
    // ...
  },
  output: {
    dir: 'dist/modules',
    format: 'esm',
    entryFileNames: '[name].js',
    chunkFileNames: '[name]-[hash].js',
    sourcemap: !production
  },
  plugins: [
    babel({
      babelHelpers: 'bundled',
      exclude: 'node_modules/**'
    })
  ]
};

export default [coreConfig, moduleConfig];
```

---

## ğŸ¯ ìµœì í™” ì „ëµ

### 1. ì½”ë“œ ë¶„í•  (Code Splitting)

```javascript
// ì½”ì–´ëŠ” í•˜ë‚˜ì˜ ë²ˆë“¤
// ëª¨ë“ˆì€ ê°œë³„ ë²ˆë“¤

// ì‚¬ìš© ì˜ˆì‹œ
import IMCAT from './imcat-ui.js';  // ì½”ì–´ë§Œ 15KB

// í•„ìš”ì‹œ ëª¨ë“ˆ ë™ì  ë¡œë“œ
const Modal = await IMCAT.use('modal');  // ëª¨ë“ˆ 5KB
```

### 2. íŠ¸ë¦¬ ì‰ì´í‚¹ (Tree Shaking)

```javascript
// ES6 ëª¨ë“ˆë§Œ ì‚¬ìš©
export class Modal { }
export class Dropdown { }

// ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œëŠ” ë²ˆë“¤ì—ì„œ ì œì™¸ë¨
import { Modal } from './components.js';  // Dropdownì€ ì œì™¸ë¨
```

### 3. ì••ì¶• (Minification)

```bash
# Terser ì‚¬ìš©
terser imcat-ui.js -o imcat-ui.min.js \
  --compress \
  --mangle \
  --source-map
```

### 4. Gzip ì••ì¶•

```bash
# Gzip ì••ì¶• ìƒì„±
gzip -k dist/imcat-ui.min.js
gzip -k dist/imcat-ui.min.css

# ê²°ê³¼
# imcat-ui.min.js      â†’ 45KB
# imcat-ui.min.js.gz   â†’ 12KB âœ“
```

---

## ğŸ”§ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

### package.json

```json
{
  "name": "imcat-ui",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "rollup -c -w",
    "build": "NODE_ENV=production rollup -c",
    "build:core": "rollup -c --environment BUILD:core",
    "build:modules": "rollup -c --environment BUILD:modules",
    "build:css": "sass src/styles/imcat-ui.scss dist/imcat-ui.css",
    "build:css:min": "sass src/styles/imcat-ui.scss dist/imcat-ui.min.css --style compressed",
    "minify": "terser dist/imcat-ui.js -o dist/imcat-ui.min.js --compress --mangle",
    "gzip": "gzip -k dist/*.min.js dist/*.min.css",
    "clean": "rimraf dist",
    "prebuild": "npm run clean",
    "postbuild": "npm run gzip"
  },
  "devDependencies": {
    "@rollup/plugin-babel": "^6.0.0",
    "rollup": "^3.0.0",
    "rollup-plugin-terser": "^7.0.0",
    "rollup-plugin-scss": "^4.0.0",
    "sass": "^1.60.0",
    "terser": "^5.16.0",
    "rimraf": "^4.0.0"
  }
}
```

---

## ğŸ“Š íŒŒì¼ í¬ê¸° ëª©í‘œ

| íŒŒì¼ | ê°œë°œ | í”„ë¡œë•ì…˜ | Gzipped | ëª©í‘œ |
|------|------|----------|---------|------|
| **imcat-ui.js** | 120KB | 45KB | 12KB | âœ… <15KB |
| **imcat-ui.css** | 80KB | 30KB | 8KB | âœ… <10KB |
| **modal.js** | 25KB | 8KB | 3KB | âœ… <5KB |
| **dropdown.js** | 15KB | 5KB | 2KB | âœ… <3KB |
| **tooltip.js** | 10KB | 3KB | 1KB | âœ… <2KB |

---

## ğŸ¨ CSS ë²ˆë“¤ë§

### SASS ì»´íŒŒì¼

```bash
# ê°œë°œìš©
sass src/styles/imcat-ui.scss dist/imcat-ui.css \
  --source-map \
  --watch

# í”„ë¡œë•ì…˜ìš©
sass src/styles/imcat-ui.scss dist/imcat-ui.min.css \
  --style compressed \
  --no-source-map
```

### PostCSS ìµœì í™”

#### postcss.config.js

```javascript
module.exports = {
  plugins: [
    require('autoprefixer'),
    require('cssnano')({
      preset: ['default', {
        discardComments: {
          removeAll: true
        },
        normalizeWhitespace: true
      }]
    })
  ]
};
```

---

## ğŸš€ ë°°í¬ ì „ëµ

### CDN ë°°í¬

```bash
# 1. ë¹Œë“œ
npm run build

# 2. ë²„ì „ íƒœê¹…
git tag v1.0.0
git push origin v1.0.0

# 3. CDN ì—…ë¡œë“œ
aws s3 sync dist/ s3://cdn.imcat.io/ui/1.0.0/ \
  --acl public-read \
  --cache-control "max-age=31536000"
```

### NPM ë°°í¬

```json
{
  "name": "imcat-ui",
  "version": "1.0.0",
  "main": "dist/imcat-ui.js",
  "module": "dist/imcat-ui.js",
  "style": "dist/imcat-ui.css",
  "files": [
    "dist",
    "src"
  ],
  "publishConfig": {
    "access": "public"
  }
}
```

```bash
npm publish
```

---

## ğŸ” í’ˆì§ˆ ê²€ì‚¬

### ESLint

#### .eslintrc.js

```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true
  },
  extends: 'eslint:recommended',
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module'
  },
  rules: {
    'no-console': 'warn',
    'no-unused-vars': 'error',
    'prefer-const': 'error'
  }
};
```

### Stylelint

#### .stylelintrc.json

```json
{
  "extends": "stylelint-config-standard-scss",
  "rules": {
    "selector-class-pattern": "^imcat-[a-z][a-z0-9-]*(__[a-z][a-z0-9-]*)?(--[a-z][a-z0-9-]*)?$",
    "color-no-hex": null,
    "declaration-no-important": true
  }
}
```

---

## ğŸ“ˆ ì„±ëŠ¥ ë¶„ì„

### Bundle Analyzer

```bash
npm install --save-dev rollup-plugin-visualizer
```

#### rollup.config.js ì¶”ê°€

```javascript
import { visualizer } from 'rollup-plugin-visualizer';

export default {
  // ...
  plugins: [
    visualizer({
      filename: 'stats.html',
      open: true
    })
  ]
};
```

### Lighthouse ì ìˆ˜ ëª©í‘œ

- Performance: 95+
- Accessibility: 100
- Best Practices: 100
- SEO: 90+

---

## ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

### GitHub Actions

#### .github/workflows/build.yml

```yaml
name: Build and Test

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Lint
      run: npm run lint
      
    - name: Build
      run: npm run build
      
    - name: Test
      run: npm test
      
    - name: Check bundle size
      run: npm run size-check
      
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        name: dist
        path: dist/
```

---

## ğŸ“ ë²„ì „ ê´€ë¦¬

### Semantic Versioning

```text
MAJOR.MINOR.PATCH

1.0.0 â†’ ì´ˆê¸° ë¦´ë¦¬ìŠ¤
1.0.1 â†’ ë²„ê·¸ ìˆ˜ì •
1.1.0 â†’ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
2.0.0 â†’ í˜¸í™˜ì„± ê¹¨ì§€ëŠ” ë³€ê²½
```

### Changelog ìë™ ìƒì„±

```bash
npm install --save-dev conventional-changelog-cli

# package.json
{
  "scripts": {
    "changelog": "conventional-changelog -p angular -i CHANGELOG.md -s"
  }
}
```

---

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë¹Œë“œ ì „

- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ESLint/Stylelint í†µê³¼
- [ ] ë²„ì „ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
- [ ] CHANGELOG ì—…ë°ì´íŠ¸

### ë¹Œë“œ

- [ ] `npm run build` ì„±ê³µ
- [ ] íŒŒì¼ í¬ê¸° ëª©í‘œ ë‹¬ì„±
- [ ] Source map ìƒì„± í™•ì¸
- [ ] Gzip ì••ì¶• ì™„ë£Œ

### ë°°í¬ ì „

- [ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í†µê³¼
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] Git íƒœê·¸ ìƒì„±

### ë°°í¬

- [ ] NPM ë°°í¬
- [ ] CDN ì—…ë¡œë“œ
- [ ] GitHub Release ìƒì„±
- [ ] ë°°í¬ ì•Œë¦¼

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Rollup ê³µì‹ ë¬¸ì„œ](https://rollupjs.org/)
- [Terser ê³µì‹ ë¬¸ì„œ](https://terser.org/)
- [SASS ê³µì‹ ë¬¸ì„œ](https://sass-lang.com/)
- [PostCSS í”ŒëŸ¬ê·¸ì¸](https://github.com/postcss/postcss)

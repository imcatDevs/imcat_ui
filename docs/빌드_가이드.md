# IMCAT UI ë¹Œë“œ ê°€ì´ë“œ

í”„ë¡œì íŠ¸ì˜ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì™€ ë°°í¬ ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ğŸ“¦ ë¹Œë“œ ëª…ë ¹ì–´

### ì „ì²´ ë¹Œë“œ

```bash
npm run build
```

**ì‹¤í–‰ ìˆœì„œ:**
1. `npm run clean` - dist í´ë” ì •ë¦¬
2. `rollup -c` - JavaScript ë²ˆë“¤ë§
3. `npm run build:css:all` - CSS ì»´íŒŒì¼
4. `npm run copy:fonts` - í°íŠ¸ íŒŒì¼ ë³µì‚¬
5. `echo Build completed` - ì™„ë£Œ ë©”ì‹œì§€

### ê°œë³„ ë¹Œë“œ ëª…ë ¹ì–´

```bash
# JavaScript ë¹Œë“œ
npm run build:core        # ì½”ì–´ë§Œ ë¹Œë“œ
npm run build:modules     # ëª¨ë“ˆë§Œ ë¹Œë“œ

# CSS ë¹Œë“œ
npm run build:css         # ë©”ì¸ CSS
npm run build:css:min     # ì••ì¶•ëœ CSS
npm run build:css:theme   # í…Œë§ˆ CSS
npm run build:css:all     # ëª¨ë“  CSS

# í°íŠ¸ ë³µì‚¬
npm run copy:fonts        # src/fonts â†’ dist/fonts

# ì •ë¦¬
npm run clean             # dist í´ë” ì‚­ì œ
```

---

## ğŸ“‚ ë¹Œë“œ ê²°ê³¼ë¬¼

ë¹Œë“œ í›„ ìƒì„±ë˜ëŠ” íŒŒì¼ êµ¬ì¡°:

```
dist/
â”œâ”€â”€ fonts/                              ğŸ†• í°íŠ¸ ë³µì‚¬
â”‚   â”œâ”€â”€ Montserrat-VariableFont_wght.ttf
â”‚   â”œâ”€â”€ Montserrat-Italic-VariableFont_wght.ttf
â”‚   â”œâ”€â”€ NotoSansKR-VariableFont_wght.ttf
â”‚   â”œâ”€â”€ material-icons-v145-latin-regular.woff2
â”‚   â””â”€â”€ material-icons-outlined-v109-latin-regular.woff2
â”‚
â”œâ”€â”€ imcat-ui.js                         # JavaScript (ê°œë°œìš©)
â”œâ”€â”€ imcat-ui.min.js                     # JavaScript (í”„ë¡œë•ì…˜)
â”œâ”€â”€ imcat-ui.min.js.map                 # Source map
â”‚
â”œâ”€â”€ imcat-ui.css                        # ë©”ì¸ CSS
â”œâ”€â”€ imcat-ui.css.map                    # CSS Source map
â”‚
â”œâ”€â”€ theme.css                           # í…Œë§ˆ CSS
â””â”€â”€ theme.css.map                       # í…Œë§ˆ Source map
```

---

## ğŸ”§ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ìƒì„¸

### 1. JavaScript ë¹Œë“œ (Rollup)

**ì„¤ì • íŒŒì¼:** `rollup.config.js`

```javascript
export default {
  input: 'src/core/index.js',
  output: [
    {
      file: 'dist/imcat-ui.js',
      format: 'es'
    },
    {
      file: 'dist/imcat-ui.min.js',
      format: 'es',
      plugins: [terser()]
    }
  ]
}
```

**ë¹Œë“œ ê²°ê³¼:**
- `imcat-ui.js` - 140 KB (ê°€ë…ì„± ìœ ì§€)
- `imcat-ui.min.js` - 48 KB (ì••ì¶•)

---

### 2. CSS ë¹Œë“œ (Sass)

**ì£¼ìš” íŒŒì¼:**
- `src/styles/imcat-ui.scss` â†’ `dist/imcat-ui.css`
- `src/modules/theme/theme.scss` â†’ `dist/theme.css`

**í°íŠ¸ ê²½ë¡œ:**
```scss
// src/styles/abstracts/_fonts.scss
@font-face {
  font-family: 'Montserrat';
  // dist ê¸°ì¤€ ìƒëŒ€ ê²½ë¡œ
  src: url('./fonts/Montserrat-VariableFont_wght.ttf') format('truetype-variations');
}
```

---

### 3. í°íŠ¸ ë³µì‚¬ (Node.js Script)

**ìŠ¤í¬ë¦½íŠ¸:** `scripts/copy-fonts.js`

```javascript
// src/fonts â†’ dist/fonts ë³µì‚¬
const sourceDir = 'src/fonts';
const targetDir = 'dist/fonts';

// .ttf, .woff, .woff2, .otf, .eot íŒŒì¼ë§Œ ë³µì‚¬
const fontFiles = files.filter(file => {
  const ext = path.extname(file).toLowerCase();
  return ['.ttf', '.woff', '.woff2', '.otf', '.eot'].includes(ext);
});
```

**ë³µì‚¬ë˜ëŠ” íŒŒì¼:**
- âœ… Montserrat (2ê°œ íŒŒì¼)
- âœ… Noto Sans KR (1ê°œ íŒŒì¼)
- âœ… Material Icons (2ê°œ íŒŒì¼)
- â© README.md ì œì™¸

---

## ğŸš€ ë°°í¬

### 1. NPM ë°°í¬

```bash
# package.json "files" ì„¤ì •
{
  "files": [
    "dist",
    "src"
  ]
}

# ë°°í¬
npm publish
```

**í¬í•¨ë˜ëŠ” íŒŒì¼:**
- `dist/` - ëª¨ë“  ë¹Œë“œ ê²°ê³¼ë¬¼ (í°íŠ¸ í¬í•¨)
- `src/` - ì†ŒìŠ¤ ì½”ë“œ

---

### 2. CDN ë°°í¬

ë¹Œë“œ í›„ `dist/` í´ë”ë¥¼ CDNì— ì—…ë¡œë“œ:

```
https://cdn.example.com/imcat-ui@1.0.0/
â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ *.ttf, *.woff2
â”œâ”€â”€ imcat-ui.js
â”œâ”€â”€ imcat-ui.min.js
â”œâ”€â”€ imcat-ui.css
â””â”€â”€ theme.css
```

**HTML ì‚¬ìš©:**
```html
<link rel="stylesheet" href="https://cdn.example.com/imcat-ui@1.0.0/imcat-ui.css">
<link rel="stylesheet" href="https://cdn.example.com/imcat-ui@1.0.0/theme.css">
<script type="module" src="https://cdn.example.com/imcat-ui@1.0.0/imcat-ui.js"></script>
```

**í°íŠ¸ ìë™ ë¡œë“œ:**
CSSì—ì„œ `./fonts/` ìƒëŒ€ ê²½ë¡œë¡œ í°íŠ¸ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ, CDN ë£¨íŠ¸ì— fonts í´ë”ê°€ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤.

---

### 3. ì •ì  ì‚¬ì´íŠ¸ ë°°í¬

**Netlify/Vercel:**

```bash
# ë¹Œë“œ ëª…ë ¹
npm run build

# ë°°í¬ ë””ë ‰í† ë¦¬
dist/
```

**netlify.toml:**
```toml
[build]
  command = "npm run build"
  publish = "dist"
```

---

## ğŸ” ë¹Œë“œ í™•ì¸

### íŒŒì¼ í¬ê¸° í™•ì¸

```bash
# Windows
dir dist /s

# Unix
du -sh dist/*
```

**ì˜ˆìƒ í¬ê¸°:**
```
dist/fonts/      ~12 MB  (í°íŠ¸ íŒŒì¼)
dist/imcat-ui.js  140 KB  (ê°œë°œìš©)
dist/imcat-ui.min.js 48 KB (í”„ë¡œë•ì…˜)
dist/imcat-ui.css 17 KB
dist/theme.css    5 KB
```

---

### í°íŠ¸ ë¡œë“œ í™•ì¸

**ë¡œì»¬ í…ŒìŠ¤íŠ¸:**
```bash
npm run serve
```

ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network â†’ Fonts:
- âœ… ëª¨ë“  í°íŠ¸ íŒŒì¼ 200 OK
- âŒ 404 ì˜¤ë¥˜ ì—†ìŒ

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### Q: í°íŠ¸ê°€ 404 ì˜¤ë¥˜

**ì¦ìƒ:**
```
GET http://localhost:3000/fonts/Montserrat-VariableFont_wght.ttf 404
```

**í•´ê²°:**
```bash
# í°íŠ¸ ë³µì‚¬ í™•ì¸
npm run copy:fonts

# dist/fonts/ í´ë” í™•ì¸
ls dist/fonts/
```

---

### Q: CSSì—ì„œ í°íŠ¸ ê²½ë¡œ ì˜¤ë¥˜

**í™•ì¸:**
```bash
# dist/imcat-ui.css ì—´ê¸°
cat dist/imcat-ui.css | grep "url"
```

**ì˜¬ë°”ë¥¸ ê²½ë¡œ:**
```css
url('./fonts/Montserrat-VariableFont_wght.ttf')
```

---

### Q: ë¹Œë“œ í›„ í°íŠ¸ê°€ ì—†ìŒ

**ì›ì¸:** `copy:fonts` ìŠ¤í¬ë¦½íŠ¸ ë¯¸ì‹¤í–‰

**í•´ê²°:**
```bash
# ë¹Œë“œ ëª…ë ¹ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
npm run build
# â†’ copy:fonts ì‹¤í–‰ë˜ì–´ì•¼ í•¨

# ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰
npm run copy:fonts
```

---

## ğŸ“Š ë¹Œë“œ ìµœì í™”

### 1. CSS ìµœì†Œí™”

```bash
npm run build:css:min
```

### 2. JavaScript ìµœì†Œí™”

ì´ë¯¸ `imcat-ui.min.js`ë¡œ ìë™ ìµœì†Œí™”

### 3. Gzip ì••ì¶•

```bash
# gzip-size-cli ì‚¬ìš©
npx gzip-size dist/imcat-ui.min.js
npx gzip-size dist/imcat-ui.css
```

---

## ğŸš§ ê°œë°œ ëª¨ë“œ

### Watch ëª¨ë“œ

```bash
# JavaScript watch
npm run dev

# CSS watch (ë³„ë„ í„°ë¯¸ë„)
sass --watch src/styles:dist
```

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë¹Œë“œ ì „ í™•ì¸:

- [ ] `src/fonts/` í´ë”ì— ëª¨ë“  í°íŠ¸ íŒŒì¼ ì¡´ì¬
- [ ] `package.json` ë²„ì „ ì—…ë°ì´íŠ¸
- [ ] ì½”ë“œ ë¦°íŠ¸ í†µê³¼ (`npm run lint`)
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ (`npm test`)
- [ ] ë³€ê²½ì‚¬í•­ ë¬¸ì„œí™”

ë¹Œë“œ í›„ í™•ì¸:

- [ ] `dist/` í´ë” ìƒì„±
- [ ] `dist/fonts/` í´ë”ì— 5ê°œ í°íŠ¸ íŒŒì¼
- [ ] CSS íŒŒì¼ì— ì˜¬ë°”ë¥¸ í°íŠ¸ ê²½ë¡œ
- [ ] JavaScript minify ì„±ê³µ
- [ ] Source map ìƒì„±
- [ ] ë¡œì»¬ í…ŒìŠ¤íŠ¸ í†µê³¼

---

## ğŸ¯ ìë™í™”

### GitHub Actions

```yaml
name: Build

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Build
        run: npm run build
      
      - name: Upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: dist
          path: dist/
```

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [Rollup ì„¤ì •](../rollup.config.js)
- [Sass ì„¤ì •](../src/styles/README.md)
- [í°íŠ¸ ê°€ì´ë“œ](../src/fonts/README.md)
- [ë°°í¬ ê°€ì´ë“œ](./ë²ˆë“¤ë§_ê°€ì´ë“œ.md)

---

**ë¹Œë“œ ì™„ë£Œ! ğŸ‰**

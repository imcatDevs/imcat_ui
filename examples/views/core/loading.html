<!-- Breadcrumb -->
<div class="page-title-box">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#home">Home</a></li>
      <li class="breadcrumb-item"><a href="#core">Core</a></li>
      <li class="breadcrumb-item active">Loading</li>
    </ol>
  </nav>
  <h1 class="page-title">Loading</h1>
  <p class="page-description">ë¡œë”© ì¸ë””ì¼€ì´í„° - ë¹„ë™ê¸° ì‘ì—… ì¤‘ ì‚¬ìš©ì í”¼ë“œë°±</p>
</div>

<div class="row">
  <!-- ê¸°ë³¸ ë¡œë”© -->
  <div class="col-lg-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">â³ ê¸°ë³¸ ë¡œë”©</h2>
        <p class="card__description">ì „ì²´ í™”ë©´ ë¡œë”© ì¸ë””ì¼€ì´í„°</p>
      </div>
      <div class="card__body">
        <div class="demo-section">
          <button class="btn btn--primary" onclick="showBasicLoading()">ë¡œë”© í‘œì‹œ (2ì´ˆ)</button>
          <button class="btn btn--secondary" onclick="showLoadingWithMessage()">ë©”ì‹œì§€ì™€ í•¨ê»˜</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ì»¤ìŠ¤í…€ ë©”ì‹œì§€ -->
  <div class="col-lg-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ’¬ ì»¤ìŠ¤í…€ ë©”ì‹œì§€</h2>
        <p class="card__description">ì‚¬ìš©ì ì •ì˜ ë¡œë”© ë©”ì‹œì§€</p>
      </div>
      <div class="card__body">
        <div class="demo-section">
          <input type="text" id="loading_message" class="form-control" placeholder="ë¡œë”© ë©”ì‹œì§€" value="ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..." style="margin-bottom: 0.5rem;">
          <button class="btn btn--primary" onclick="showCustomLoading()">í‘œì‹œ</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ì‹¤ì „ ì˜ˆì œ: ë°ì´í„° ë¡œë“œ -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“¥ ì‹¤ì „ ì˜ˆì œ: ë°ì´í„° ë¡œë“œ ì‹œë®¬ë ˆì´ì…˜</h2>
        <p class="card__description">ë¹„ë™ê¸° ì‘ì—…ê³¼ ë¡œë”© ì¸ë””ì¼€ì´í„°</p>
      </div>
      <div class="card__body">
        <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
          <button class="btn btn--primary" onclick="loadUsers()">ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ</button>
          <button class="btn btn--success" onclick="loadProducts()">ìƒí’ˆ ë°ì´í„° ë¡œë“œ</button>
          <button class="btn btn--warning" onclick="loadWithError()">ì˜¤ë¥˜ ì‹œë®¬ë ˆì´ì…˜</button>
        </div>
        
        <div id="data_result" class="data-display">
          <div class="empty-state empty-state--sm">
            <div class="empty-state__icon">
              <i class="material-icons-outlined">cloud_download</i>
            </div>
            <h3 class="empty-state__title">ë°ì´í„° ì—†ìŒ</h3>
            <p class="empty-state__description">ìœ„ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ì„¸ìš”.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ì§„í–‰ë¥  í‘œì‹œ -->
  <div class="col-lg-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“Š ì§„í–‰ë¥  ë¡œë”©</h2>
        <p class="card__description">ì§„í–‰ ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ” ë¡œë”©</p>
      </div>
      <div class="card__body">
        <div class="demo-section">
          <button class="btn btn--primary" onclick="showProgressLoading()">ì§„í–‰ë¥  ë¡œë”© ì‹œì‘</button>
          
          <div id="progress_demo" style="margin-top: 1rem; display: none;">
            <div class="progress-bar">
              <div class="progress-bar__fill" id="progress_fill"></div>
            </div>
            <div id="progress_text" style="text-align: center; margin-top: 0.5rem; font-size: 0.875rem; color: var(--text-secondary);">0%</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ë²„íŠ¼ ë¡œë”© ìƒíƒœ -->
  <div class="col-lg-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ”˜ ë²„íŠ¼ ë¡œë”© ìƒíƒœ</h2>
        <p class="card__description">ë²„íŠ¼ì— ë¡œë”© ìƒíƒœ í‘œì‹œ</p>
      </div>
      <div class="card__body">
        <div class="demo-section">
          <button id="submit_btn" class="btn btn--primary" onclick="submitForm()">
            <span class="btn-text">í¼ ì œì¶œ</span>
            <span class="btn-spinner" style="display: none;">
              <i class="material-icons-outlined spinning">sync</i>
            </span>
          </button>
          
          <button id="save_btn" class="btn btn--success" onclick="saveData()" style="margin-left: 0.5rem;">
            <span class="btn-text">ì €ì¥</span>
            <span class="btn-spinner" style="display: none;">
              <i class="material-icons-outlined spinning">sync</i>
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ì‚¬ìš©ë²• -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card__header">
        <h2 class="card__title">ğŸ“– API ë ˆí¼ëŸ°ìŠ¤</h2>
      </div>
      <div class="card__body">
        <pre><code>// ë¡œë”© í‘œì‹œ
IMCAT.loading.show();
IMCAT.loading.show('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');

// ë¡œë”© ìˆ¨ê¹€
IMCAT.loading.hide();

// í‘œì‹œ ì—¬ë¶€ í™•ì¸
if (IMCAT.loading.isVisible()) {
  console.log('ë¡œë”© ì¤‘...');
}

// ë¹„ë™ê¸° ì‘ì—…ê³¼ í•¨ê»˜ ì‚¬ìš©
async function loadData() {
  IMCAT.loading.show('ë°ì´í„° ë¡œë”© ì¤‘...');
  try {
    const response = await fetch('/api/data');
    const data = await response.json();
    return data;
  } finally {
    IMCAT.loading.hide();
  }
}

// ë¼ìš°í„°ì™€ ìë™ ì—°ë™
// í˜ì´ì§€ ì „í™˜ ì‹œ ìë™ìœ¼ë¡œ ë¡œë”© í‘œì‹œ/ìˆ¨ê¹€ë¨</code></pre>
      </div>
    </div>
  </div>
</div>

<style>
  .demo-section {
    padding: 1rem 0;
  }
  
  .form-control {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-size: 0.875rem;
    background: var(--bg-primary);
    color: var(--text-primary);
  }
  
  .data-display {
    background: var(--bg-secondary);
    border-radius: 8px;
    padding: 1rem;
    min-height: 200px;
  }
  
  .data-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
  }
  
  .data-card {
    background: var(--bg-primary);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid var(--border-color);
  }
  
  .data-card__name {
    font-weight: 600;
    margin-bottom: 0.25rem;
  }
  
  .data-card__sub {
    font-size: 0.8125rem;
    color: var(--text-secondary);
  }
  
  .progress-bar {
    width: 100%;
    height: 8px;
    background: var(--bg-secondary);
    border-radius: 4px;
    overflow: hidden;
  }
  
  .progress-bar__fill {
    height: 100%;
    background: var(--primary-color);
    width: 0%;
    transition: width 0.3s ease;
  }
  
  .spinning {
    animation: spin 1s linear infinite;
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  .btn-spinner {
    margin-left: 0.5rem;
  }
  
  .btn[disabled] {
    opacity: 0.7;
    cursor: not-allowed;
  }
</style>

<script>
  // ê¸°ë³¸ ë¡œë”©
  function showBasicLoading() {
    IMCAT.loading.show();
    setTimeout(() => IMCAT.loading.hide(), 2000);
  }
  
  function showLoadingWithMessage() {
    IMCAT.loading.show('ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...');
    setTimeout(() => IMCAT.loading.hide(), 2000);
  }
  
  // ì»¤ìŠ¤í…€ ë©”ì‹œì§€
  function showCustomLoading() {
    const message = document.getElementById('loading_message').value;
    IMCAT.loading.show(message);
    setTimeout(() => IMCAT.loading.hide(), 2000);
  }
  
  // ë°ì´í„° ë¡œë“œ ì‹œë®¬ë ˆì´ì…˜
  async function loadUsers() {
    const resultEl = document.getElementById('data_result');
    IMCAT.loading.show('ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');
    
    // ì‹œë®¬ë ˆì´ì…˜ ë”œë ˆì´
    await new Promise(resolve => setTimeout(resolve, 1500));
    
    const users = [
      { name: 'í™ê¸¸ë™', email: 'hong@example.com' },
      { name: 'ê¹€ì² ìˆ˜', email: 'kim@example.com' },
      { name: 'ì´ì˜í¬', email: 'lee@example.com' },
      { name: 'ë°•ì§€ë¯¼', email: 'park@example.com' }
    ];
    
    resultEl.innerHTML = `
      <h4 style="margin-bottom: 1rem;">ğŸ‘¥ ì‚¬ìš©ì ëª©ë¡ (${users.length}ëª…)</h4>
      <div class="data-grid">
        ${users.map(u => `
          <div class="data-card">
            <div class="data-card__name">${u.name}</div>
            <div class="data-card__sub">${u.email}</div>
          </div>
        `).join('')}
      </div>
    `;
    
    IMCAT.loading.hide();
  }
  
  async function loadProducts() {
    const resultEl = document.getElementById('data_result');
    IMCAT.loading.show('ìƒí’ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');
    
    await new Promise(resolve => setTimeout(resolve, 1500));
    
    const products = [
      { name: 'ë§¥ë¶ í”„ë¡œ', price: 'â‚©2,500,000' },
      { name: 'ì•„ì´í° 15', price: 'â‚©1,200,000' },
      { name: 'ì—ì–´íŒŸ í”„ë¡œ', price: 'â‚©350,000' },
      { name: 'ì•„ì´íŒ¨ë“œ ë¯¸ë‹ˆ', price: 'â‚©700,000' },
      { name: 'ì• í”Œì›Œì¹˜', price: 'â‚©450,000' }
    ];
    
    resultEl.innerHTML = `
      <h4 style="margin-bottom: 1rem;">ğŸ“¦ ìƒí’ˆ ëª©ë¡ (${products.length}ê°œ)</h4>
      <div class="data-grid">
        ${products.map(p => `
          <div class="data-card">
            <div class="data-card__name">${p.name}</div>
            <div class="data-card__sub" style="color: var(--primary-color); font-weight: 600;">${p.price}</div>
          </div>
        `).join('')}
      </div>
    `;
    
    IMCAT.loading.hide();
  }
  
  async function loadWithError() {
    const resultEl = document.getElementById('data_result');
    IMCAT.loading.show('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');
    
    await new Promise(resolve => setTimeout(resolve, 1500));
    
    IMCAT.loading.hide();
    
    resultEl.innerHTML = `
      <div class="empty-state empty-state--sm" style="background: #fee2e2;">
        <div class="empty-state__icon" style="background: #fca5a5; color: #991b1b;">
          <i class="material-icons-outlined">error</i>
        </div>
        <h3 class="empty-state__title" style="color: #991b1b;">ì˜¤ë¥˜ ë°œìƒ</h3>
        <p class="empty-state__description">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
        <button class="btn btn--danger btn--sm" onclick="loadUsers()">ë‹¤ì‹œ ì‹œë„</button>
      </div>
    `;
  }
  
  // ì§„í–‰ë¥  ë¡œë”©
  function showProgressLoading() {
    const demoEl = document.getElementById('progress_demo');
    const fillEl = document.getElementById('progress_fill');
    const textEl = document.getElementById('progress_text');
    
    demoEl.style.display = 'block';
    fillEl.style.width = '0%';
    textEl.textContent = '0%';
    
    let progress = 0;
    const interval = setInterval(() => {
      progress += Math.random() * 15;
      if (progress >= 100) {
        progress = 100;
        clearInterval(interval);
        textEl.textContent = 'ì™„ë£Œ!';
        setTimeout(() => {
          demoEl.style.display = 'none';
        }, 1000);
      } else {
        textEl.textContent = Math.round(progress) + '%';
      }
      fillEl.style.width = progress + '%';
    }, 300);
  }
  
  // ë²„íŠ¼ ë¡œë”© ìƒíƒœ
  async function submitForm() {
    const btn = document.getElementById('submit_btn');
    const text = btn.querySelector('.btn-text');
    const spinner = btn.querySelector('.btn-spinner');
    
    btn.disabled = true;
    text.textContent = 'ì²˜ë¦¬ ì¤‘...';
    spinner.style.display = 'inline';
    
    await new Promise(resolve => setTimeout(resolve, 2000));
    
    btn.disabled = false;
    text.textContent = 'í¼ ì œì¶œ';
    spinner.style.display = 'none';
  }
  
  async function saveData() {
    const btn = document.getElementById('save_btn');
    const text = btn.querySelector('.btn-text');
    const spinner = btn.querySelector('.btn-spinner');
    
    btn.disabled = true;
    text.textContent = 'ì €ì¥ ì¤‘...';
    spinner.style.display = 'inline';
    
    await new Promise(resolve => setTimeout(resolve, 1500));
    
    btn.disabled = false;
    text.textContent = 'ì €ì¥ ì™„ë£Œ!';
    spinner.style.display = 'none';
    
    setTimeout(() => {
      text.textContent = 'ì €ì¥';
    }, 1500);
  }
</script>

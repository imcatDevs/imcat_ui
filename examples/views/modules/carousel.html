<!-- Breadcrumb -->
<div class="page-title-box">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#home">Home</a></li>
      <li class="breadcrumb-item"><a href="#modules">Modules</a></li>
      <li class="breadcrumb-item active">Carousel</li>
    </ol>
  </nav>
  <h1 class="page-title">Carousel</h1>
  <p class="page-description">ì´ë¯¸ì§€/ì½˜í…ì¸  ìŠ¬ë¼ì´ë”ì™€ ë¼ì´íŠ¸ë°•ìŠ¤</p>
</div>

<!-- ê¸°ë³¸ ìºëŸ¬ì…€ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ  ê¸°ë³¸ ìºëŸ¬ì…€</h2>
        <p class="card__description">ìë™ ì¬ìƒ, í™”ì‚´í‘œ, ë„íŠ¸ ì¸ë””ì¼€ì´í„°</p>
      </div>
      <div class="card__body">
        <div id="carousel_basic" style="max-width: 800px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- ìº¡ì…˜ ìºëŸ¬ì…€ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ  ìº¡ì…˜ì´ ìˆëŠ” ìºëŸ¬ì…€</h2>
        <p class="card__description">ì œëª©ê³¼ ì„¤ëª…ì„ í¬í•¨</p>
      </div>
      <div class="card__body">
        <div id="carousel_caption" style="max-width: 800px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- ì¸ë„¤ì¼ ìºëŸ¬ì…€ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ  ì¸ë„¤ì¼ ë„¤ë¹„ê²Œì´ì…˜</h2>
        <p class="card__description">í•˜ë‹¨ ì¸ë„¤ì¼ë¡œ íƒìƒ‰</p>
      </div>
      <div class="card__body">
        <div id="carousel_thumbs" style="max-width: 800px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- ë©€í‹° ìŠ¬ë¼ì´ë“œ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ  ë©€í‹° ìŠ¬ë¼ì´ë“œ</h2>
        <p class="card__description">ì—¬ëŸ¬ ìŠ¬ë¼ì´ë“œë¥¼ í•œ ë²ˆì— í‘œì‹œ</p>
      </div>
      <div class="card__body">
        <div id="carousel_multi"></div>
      </div>
    </div>
  </div>
</div>

<!-- ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">âœ¨ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼</h2>
        <p class="card__description">ë‹¤ì–‘í•œ ì „í™˜ íš¨ê³¼ì™€ ì´ì§• í•¨ìˆ˜</p>
      </div>
      <div class="card__body">
        <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap; align-items: center;">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <label style="font-weight: 500;">íš¨ê³¼:</label>
            <select id="effect_select" style="padding: 0.5rem; border-radius: 6px; border: 1px solid var(--border-color);">
              <option value="slide">Slide</option>
              <option value="fade">Fade</option>
              <option value="scale">Scale</option>
              <option value="flip">Flip</option>
              <option value="cube">Cube</option>
            </select>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <label style="font-weight: 500;">ì´ì§•:</label>
            <select id="easing_select" style="padding: 0.5rem; border-radius: 6px; border: 1px solid var(--border-color);">
              <option value="linear">Linear</option>
              <option value="ease-out">Ease Out</option>
              <option value="easeOutCubic" selected>Ease Out Cubic</option>
              <option value="easeOutQuart">Ease Out Quart</option>
              <option value="easeOutQuint">Ease Out Quint</option>
              <option value="easeOutExpo">Ease Out Expo</option>
              <option value="easeOutBack">Ease Out Back (ë°”ìš´ìŠ¤)</option>
              <option value="easeInOutCubic">Ease In Out Cubic</option>
              <option value="easeInOutBack">Ease In Out Back</option>
              <option value="bounce">Bounce</option>
            </select>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <label style="font-weight: 500;">ì†ë„:</label>
            <input type="range" id="speed_range" min="100" max="1000" value="400" style="width: 100px;">
            <span id="speed_value">400ms</span>
          </div>
          <button class="btn btn--primary" onclick="applyAnimation()">ì ìš©</button>
        </div>
        <div id="carousel_animation" style="max-width: 600px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- ë¼ì´íŠ¸ë°•ìŠ¤ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ–¼ï¸ ë¼ì´íŠ¸ë°•ìŠ¤ ê°¤ëŸ¬ë¦¬</h2>
        <p class="card__description">ì´ë¯¸ì§€ í´ë¦­ ì‹œ ì „ì²´ í™”ë©´ìœ¼ë¡œ ë³´ê¸°</p>
      </div>
      <div class="card__body">
        <div id="lightbox_gallery" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem;"></div>
      </div>
    </div>
  </div>
</div>

<!-- í”„ë¡œê·¸ë˜ë§¤í‹± ì œì–´ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ® í”„ë¡œê·¸ë˜ë§¤í‹± ì œì–´</h2>
        <p class="card__description">JavaScriptë¡œ ìºëŸ¬ì…€ ì œì–´</p>
      </div>
      <div class="card__body">
        <div id="carousel_control" style="max-width: 600px; margin: 0 auto 1rem;"></div>
        <div style="display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap;">
          <button class="btn btn--secondary" onclick="controlCarousel.prev()">
            <i class="material-icons-outlined" style="font-size: 18px;">chevron_left</i> ì´ì „
          </button>
          <button class="btn btn--secondary" onclick="controlCarousel.next()">
            ë‹¤ìŒ <i class="material-icons-outlined" style="font-size: 18px;">chevron_right</i>
          </button>
          <button class="btn btn--outline-primary" onclick="controlCarousel.goTo(0)">ì²˜ìŒìœ¼ë¡œ</button>
          <button class="btn btn--outline-success" onclick="controlCarousel.play()">
            <i class="material-icons-outlined" style="font-size: 18px;">play_arrow</i> ì¬ìƒ
          </button>
          <button class="btn btn--outline-danger" onclick="controlCarousel.pause()">
            <i class="material-icons-outlined" style="font-size: 18px;">pause</i> ì¼ì‹œì •ì§€
          </button>
        </div>
        <p id="carousel_status" style="text-align: center; margin-top: 1rem; color: var(--text-secondary);"></p>
      </div>
    </div>
  </div>
</div>

<!-- JSON ë°ì´í„° ë¡œë“œ - íˆì–´ë¡œ ë°°ë„ˆ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸŒŸ íˆì–´ë¡œ ë°°ë„ˆ (JSON ë°ì´í„°)</h2>
        <p class="card__description">JSON íŒŒì¼ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í’€ìŠ¤í¬ë¦° íˆì–´ë¡œ ë°°ë„ˆ ìƒì„±</p>
      </div>
      <div class="card__body" style="padding: 0;">
        <div id="carousel_hero"></div>
      </div>
    </div>
  </div>
</div>

<!-- JSON ë°ì´í„° ë¡œë“œ - ìƒí’ˆ ì¹´ë“œ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ›ï¸ ìƒí’ˆ ì¹´ë“œ (JSON ë°ì´í„°)</h2>
        <p class="card__description">JSONì—ì„œ ìƒí’ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì¹´ë“œí˜• ìºëŸ¬ì…€ ìƒì„±</p>
      </div>
      <div class="card__body">
        <div id="carousel_json_products"></div>
      </div>
    </div>
  </div>
</div>

<!-- JSON ë°ì´í„° ë¡œë“œ - ê³ ê° í›„ê¸° -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">â­ ê³ ê° í›„ê¸° (JSON ë°ì´í„°)</h2>
        <p class="card__description">JSONì—ì„œ í›„ê¸° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í…ŒìŠ¤í‹°ëª¨ë‹ˆì–¼ ìºëŸ¬ì…€ ìƒì„±</p>
      </div>
      <div class="card__body">
        <div id="carousel_json_testimonials" style="max-width: 800px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- JSON ë°ì´í„° ë¡œë“œ - ê¸°ëŠ¥ ì†Œê°œ -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸš€ ê¸°ëŠ¥ ì†Œê°œ (JSON ë°ì´í„°)</h2>
        <p class="card__description">JSONì—ì„œ ê¸°ëŠ¥ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì•„ì´ì½˜ ì¹´ë“œ ìºëŸ¬ì…€ ìƒì„±</p>
      </div>
      <div class="card__body">
        <div id="carousel_json_features"></div>
      </div>
    </div>
  </div>
</div>

<!-- ì‹¤ì „ ì˜ˆì œ: ìƒí’ˆ ìŠ¬ë¼ì´ë” -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ›’ ìƒí’ˆ ìŠ¬ë¼ì´ë”</h2>
        <p class="card__description">E-commerce ìŠ¤íƒ€ì¼ ìƒí’ˆ ìºëŸ¬ì…€</p>
      </div>
      <div class="card__body">
        <div id="carousel_products"></div>
      </div>
    </div>
  </div>
</div>

<!-- ì‹¤ì „ ì˜ˆì œ: í›„ê¸° ìŠ¬ë¼ì´ë” -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ’¬ ê³ ê° í›„ê¸°</h2>
        <p class="card__description">í…ŒìŠ¤í‹°ëª¨ë‹ˆì–¼ ìºëŸ¬ì…€</p>
      </div>
      <div class="card__body">
        <div id="carousel_testimonials" style="max-width: 700px; margin: 0 auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- API ë ˆí¼ëŸ°ìŠ¤ -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card__header">
        <h2 class="card__title">ğŸ“– API ë ˆí¼ëŸ°ìŠ¤</h2>
      </div>
      <div class="card__body">
        <pre><code>const Carousel = await IMCAT.use('carousel');

// ê¸°ë³¸ ìºëŸ¬ì…€
const carousel = new Carousel.Carousel('#element', {
  items: ['img1.jpg', 'img2.jpg'],
  autoplay: true,
  autoplaySpeed: 3000,
  dots: true,
  arrows: true,
  loop: true,
  slidesToShow: 1,
  draggable: true,
  onSlideChange: (current, prev) => {}
});

carousel.next();
carousel.prev();
carousel.goTo(index);
carousel.play();
carousel.pause();
carousel.destroy();

// ë¼ì´íŠ¸ë°•ìŠ¤
const lightbox = new Carousel.Lightbox();
// data-lightbox ì†ì„±ì´ ìˆëŠ” ìš”ì†Œ ìë™ ì—°ê²°</code></pre>
      </div>
    </div>
  </div>
</div>

<script>
(async function() {
  const Carousel = await IMCAT.use('carousel');
  
  // ìƒ˜í”Œ ì´ë¯¸ì§€ (placeholder)
  const sampleImages = [
    'https://picsum.photos/800/400?random=1',
    'https://picsum.photos/800/400?random=2',
    'https://picsum.photos/800/400?random=3',
    'https://picsum.photos/800/400?random=4',
    'https://picsum.photos/800/400?random=5'
  ];
  
  // 1. ê¸°ë³¸ ìºëŸ¬ì…€
  new Carousel.Carousel('#carousel_basic', {
    items: sampleImages,
    autoplay: true,
    autoplaySpeed: 4000,
    dots: true,
    arrows: true
  });
  
  // 2. ìº¡ì…˜ ìºëŸ¬ì…€
  new Carousel.Carousel('#carousel_caption', {
    items: [
      { src: 'https://picsum.photos/800/400?random=10', title: 'ì•„ë¦„ë‹¤ìš´ ìì—°', description: 'í‘¸ë¥¸ í•˜ëŠ˜ê³¼ ë…¹ìƒ‰ ì´ˆì›ì´ ì–´ìš°ëŸ¬ì§„ í’ê²½' },
      { src: 'https://picsum.photos/800/400?random=11', title: 'ë„ì‹œì˜ ì•¼ê²½', description: 'í™”ë ¤í•œ ë¶ˆë¹›ì´ ìˆ˜ë†“ëŠ” ë„ì‹œì˜ ë°¤' },
      { src: 'https://picsum.photos/800/400?random=12', title: 'ë°”ë‹¤ì˜ ì¼ëª°', description: 'ìˆ˜í‰ì„  ë„ˆë¨¸ë¡œ ì§€ëŠ” íƒœì–‘ì˜ ì•„ë¦„ë‹¤ì›€' }
    ],
    dots: true,
    counter: true
  });
  
  // 3. ì¸ë„¤ì¼ ìºëŸ¬ì…€
  new Carousel.Carousel('#carousel_thumbs', {
    items: [
      'https://picsum.photos/800/400?random=20',
      'https://picsum.photos/800/400?random=21',
      'https://picsum.photos/800/400?random=22',
      'https://picsum.photos/800/400?random=23',
      'https://picsum.photos/800/400?random=24'
    ],
    thumbnails: true,
    dots: false
  });
  
  // 4. ë©€í‹° ìŠ¬ë¼ì´ë“œ
  new Carousel.Carousel('#carousel_multi', {
    items: [
      'https://picsum.photos/400/300?random=30',
      'https://picsum.photos/400/300?random=31',
      'https://picsum.photos/400/300?random=32',
      'https://picsum.photos/400/300?random=33',
      'https://picsum.photos/400/300?random=34',
      'https://picsum.photos/400/300?random=35'
    ],
    slidesToShow: 3,
    slidesToScroll: 1,
    dots: true,
    responsive: [
      { breakpoint: 992, settings: { slidesToShow: 2 } },
      { breakpoint: 576, settings: { slidesToShow: 1 } }
    ]
  });
  
  // 5. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ë°ëª¨
  const animationImages = [
    'https://picsum.photos/600/350?random=60',
    'https://picsum.photos/600/350?random=61',
    'https://picsum.photos/600/350?random=62',
    'https://picsum.photos/600/350?random=63'
  ];
  
  window.animCarousel = new Carousel.Carousel('#carousel_animation', {
    items: animationImages,
    effect: 'slide',
    easing: 'easeOutCubic',
    speed: 400,
    dots: true,
    loop: true
  });
  
  // ì†ë„ ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸
  document.getElementById('speed_range').addEventListener('input', function() {
    document.getElementById('speed_value').textContent = this.value + 'ms';
  });
  
  // ì• ë‹ˆë©”ì´ì…˜ ì ìš© í•¨ìˆ˜
  window.applyAnimation = function() {
    const effect = document.getElementById('effect_select').value;
    const easing = document.getElementById('easing_select').value;
    const speed = parseInt(document.getElementById('speed_range').value);
    
    // ê¸°ì¡´ ìºëŸ¬ì…€ ì œê±°
    if (window.animCarousel) {
      window.animCarousel.destroy();
    }
    
    // ìƒˆ ìºëŸ¬ì…€ ìƒì„±
    document.getElementById('carousel_animation').innerHTML = '';
    window.animCarousel = new Carousel.Carousel('#carousel_animation', {
      items: animationImages,
      effect: effect,
      easing: easing,
      speed: speed,
      dots: true,
      loop: true
    });
  };
  
  // ========================================
  // JSON ë°ì´í„° ë¡œë“œ ìºëŸ¬ì…€
  // ========================================
  try {
    const response = await fetch('data/carouseldata.json');
    const carouselData = await response.json();
    
    // íˆì–´ë¡œ ë°°ë„ˆ ìƒì„±
    if (carouselData.hero) {
      const heroItems = carouselData.hero.slides.map(slide => ({
        content: `
          <div class="hero-slide" style="
            position: relative;
            height: 450px;
            background: url('${slide.background}') center/cover no-repeat;
            display: flex;
            align-items: center;
            justify-content: ${slide.align === 'left' ? 'flex-start' : slide.align === 'right' ? 'flex-end' : 'center'};
          ">
            <div style="
              position: absolute;
              inset: 0;
              background: ${slide.overlay};
            "></div>
            <div style="
              position: relative;
              z-index: 1;
              max-width: 700px;
              padding: 3rem;
              text-align: ${slide.align};
              color: white;
            ">
              <h2 style="font-size: 2.5rem; font-weight: 700; margin: 0 0 1rem; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                ${slide.title}
              </h2>
              <p style="font-size: 1.25rem; margin: 0 0 0.75rem; opacity: 0.95;">
                ${slide.subtitle}
              </p>
              <p style="font-size: 1rem; margin: 0 0 2rem; opacity: 0.85;">
                ${slide.description}
              </p>
              <div style="display: flex; gap: 1rem; justify-content: ${slide.align === 'left' ? 'flex-start' : slide.align === 'right' ? 'flex-end' : 'center'};">
                ${slide.buttons.map(btn => `
                  <a href="${btn.href}" class="btn btn--${btn.variant === 'primary' ? 'primary' : btn.variant === 'outline' ? 'outline-light' : 'ghost'}" style="
                    ${btn.variant === 'outline' ? 'border-color: white; color: white;' : ''}
                    ${btn.variant === 'ghost' ? 'color: white;' : ''}
                  ">
                    ${btn.text}
                  </a>
                `).join('')}
              </div>
            </div>
          </div>
        `
      }));
      
      const heroCarousel = new Carousel.Carousel('#carousel_hero', {
        items: heroItems,
        autoplay: true,
        autoplaySpeed: 5000,
        dots: true,
        arrows: true,
        effect: 'fade',
        speed: 600
      });
      IMCAT.view.registerInstance(heroCarousel);
    }
    
    // JSON ìƒí’ˆ ìºëŸ¬ì…€ ìƒì„±
    if (carouselData.products) {
      const productItems = carouselData.products.slides.map(product => ({
        content: `
          <div style="
            background: var(--bg-primary);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin: 0.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
          " onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 30px rgba(0,0,0,0.12)'" 
             onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 20px rgba(0,0,0,0.08)'">
            <div style="position: relative; padding-top: 75%; background: var(--bg-secondary);">
              <img src="${product.image}" alt="${product.title}" style="position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;">
              ${product.badge ? `
                <span style="
                  position: absolute;
                  top: 12px;
                  left: 12px;
                  padding: 4px 10px;
                  font-size: 11px;
                  font-weight: 700;
                  color: white;
                  background: ${product.badge === 'BEST' ? '#ef4444' : product.badge === 'NEW' ? '#3b82f6' : product.badge === 'SALE' ? '#f59e0b' : '#10b981'};
                  border-radius: 4px;
                ">${product.badge}</span>
              ` : ''}
            </div>
            <div style="padding: 1.25rem;">
              <span style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.5px;">${product.category}</span>
              <h4 style="margin: 0.5rem 0; font-size: 1rem; font-weight: 600; color: var(--text-primary);">${product.title}</h4>
              <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 0.75rem;">
                <div style="display: flex; align-items: center; gap: 2px;">
                  ${Array(5).fill().map((_, i) => `
                    <i class="material-icons-outlined" style="font-size: 14px; color: ${i < Math.floor(product.rating) ? '#f59e0b' : '#e5e7eb'};">star</i>
                  `).join('')}
                </div>
                <span style="font-size: 0.75rem; color: var(--text-secondary);">(${product.reviews.toLocaleString()})</span>
              </div>
              <div style="display: flex; align-items: center; gap: 8px;">
                <span style="font-size: 1.125rem; font-weight: 700; color: var(--primary-color);">â‚©${product.price.toLocaleString()}</span>
                ${product.originalPrice ? `<span style="font-size: 0.875rem; color: var(--text-tertiary); text-decoration: line-through;">â‚©${product.originalPrice.toLocaleString()}</span>` : ''}
              </div>
            </div>
          </div>
        `
      }));
      
      const jsonProductCarousel = new Carousel.Carousel('#carousel_json_products', {
        items: productItems,
        slidesToShow: 4,
        slidesToScroll: 1,
        dots: true,
        responsive: [
          { breakpoint: 1200, settings: { slidesToShow: 3 } },
          { breakpoint: 992, settings: { slidesToShow: 2 } },
          { breakpoint: 576, settings: { slidesToShow: 1 } }
        ]
      });
      IMCAT.view.registerInstance(jsonProductCarousel);
    }
    
    // JSON í›„ê¸° ìºëŸ¬ì…€ ìƒì„±
    if (carouselData.testimonials) {
      const testimonialItems = carouselData.testimonials.slides.map(item => ({
        content: `
          <div style="
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
          ">
            <img src="${item.avatar}" alt="${item.name}" style="
              width: 100px;
              height: 100px;
              border-radius: 50%;
              object-fit: cover;
              margin-bottom: 1.5rem;
              border: 4px solid var(--bg-primary);
              box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            ">
            <div style="margin-bottom: 1rem;">
              ${Array(5).fill().map((_, i) => `
                <i class="material-icons-outlined" style="font-size: 20px; color: ${i < item.rating ? '#f59e0b' : '#e5e7eb'};">star</i>
              `).join('')}
            </div>
            <p style="
              font-size: 1.125rem;
              line-height: 1.8;
              color: var(--text-primary);
              margin-bottom: 1.5rem;
              font-style: italic;
            ">"${item.content}"</p>
            <h4 style="margin: 0 0 0.25rem; font-size: 1.125rem; font-weight: 600; color: var(--text-primary);">${item.name}</h4>
            <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">${item.role} Â· ${item.company}</p>
          </div>
        `
      }));
      
      const jsonTestimonialCarousel = new Carousel.Carousel('#carousel_json_testimonials', {
        items: testimonialItems,
        autoplay: true,
        autoplaySpeed: 6000,
        dots: true,
        arrows: true,
        effect: 'fade'
      });
      IMCAT.view.registerInstance(jsonTestimonialCarousel);
    }
    
    // JSON ê¸°ëŠ¥ ì†Œê°œ ìºëŸ¬ì…€ ìƒì„±
    if (carouselData.features) {
      const featureItems = carouselData.features.slides.map(feature => ({
        content: `
          <div style="
            background: var(--bg-primary);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            margin: 0.5rem;
            height: 100%;
          ">
            <div style="
              width: 80px;
              height: 80px;
              border-radius: 20px;
              background: ${feature.iconBg};
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto 1.5rem;
              box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            ">
              <i class="material-icons-outlined" style="font-size: 36px; color: white;">${feature.icon}</i>
            </div>
            <h4 style="margin: 0 0 0.75rem; font-size: 1.125rem; font-weight: 600; color: var(--text-primary);">${feature.title}</h4>
            <p style="margin: 0; font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6;">${feature.description}</p>
          </div>
        `
      }));
      
      const jsonFeatureCarousel = new Carousel.Carousel('#carousel_json_features', {
        items: featureItems,
        slidesToShow: 4,
        slidesToScroll: 1,
        dots: true,
        autoplay: true,
        autoplaySpeed: 4000,
        responsive: [
          { breakpoint: 1200, settings: { slidesToShow: 3 } },
          { breakpoint: 768, settings: { slidesToShow: 2 } },
          { breakpoint: 576, settings: { slidesToShow: 1 } }
        ]
      });
      IMCAT.view.registerInstance(jsonFeatureCarousel);
    }
    
  } catch (error) {
    console.warn('JSON ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
    document.querySelectorAll('#carousel_hero, #carousel_json_products, #carousel_json_testimonials, #carousel_json_features').forEach(el => {
      el.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
    });
  }
  
  // 6. ë¼ì´íŠ¸ë°•ìŠ¤ ê°¤ëŸ¬ë¦¬
  const galleryContainer = document.getElementById('lightbox_gallery');
  const galleryImages = [
    { src: 'https://picsum.photos/1200/800?random=40', thumb: 'https://picsum.photos/200/150?random=40', caption: 'ì‚°ê³¼ í˜¸ìˆ˜' },
    { src: 'https://picsum.photos/1200/800?random=41', thumb: 'https://picsum.photos/200/150?random=41', caption: 'ê½ƒë°­' },
    { src: 'https://picsum.photos/1200/800?random=42', thumb: 'https://picsum.photos/200/150?random=42', caption: 'ìˆ²ì† ê¸¸' },
    { src: 'https://picsum.photos/1200/800?random=43', thumb: 'https://picsum.photos/200/150?random=43', caption: 'í•´ë³€' },
    { src: 'https://picsum.photos/1200/800?random=44', thumb: 'https://picsum.photos/200/150?random=44', caption: 'ì•¼ê²½' },
    { src: 'https://picsum.photos/1200/800?random=45', thumb: 'https://picsum.photos/200/150?random=45', caption: 'ê±´ì¶•ë¬¼' }
  ];
  
  galleryContainer.innerHTML = galleryImages.map(img => `
    <a href="${img.src}" data-lightbox="gallery" data-caption="${img.caption}" style="display: block; border-radius: 8px; overflow: hidden;">
      <img src="${img.thumb}" alt="${img.caption}" style="width: 100%; height: 120px; object-fit: cover; display: block; transition: transform 0.3s;" 
           onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
    </a>
  `).join('');
  
  new Carousel.Lightbox();
  
  // 6. í”„ë¡œê·¸ë˜ë§¤í‹± ì œì–´
  window.controlCarousel = new Carousel.Carousel('#carousel_control', {
    items: sampleImages.slice(0, 4),
    dots: true,
    arrows: false,
    onSlideChange: (current, prev) => {
      document.getElementById('carousel_status').textContent = `í˜„ì¬ ìŠ¬ë¼ì´ë“œ: ${current + 1} / 4`;
    }
  });
  document.getElementById('carousel_status').textContent = 'í˜„ì¬ ìŠ¬ë¼ì´ë“œ: 1 / 4';
  
  // 7. ìƒí’ˆ ìŠ¬ë¼ì´ë”
  const products = [
    { name: 'ë¬´ì„  ì´ì–´í°', price: '129,000', rating: 4.8, img: 'https://picsum.photos/300/300?random=50' },
    { name: 'ìŠ¤ë§ˆíŠ¸ ì›Œì¹˜', price: '299,000', rating: 4.6, img: 'https://picsum.photos/300/300?random=51' },
    { name: 'ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤', price: '89,000', rating: 4.9, img: 'https://picsum.photos/300/300?random=52' },
    { name: 'ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§ í—¤ë“œí°', price: '349,000', rating: 4.7, img: 'https://picsum.photos/300/300?random=53' },
    { name: 'ë³´ì¡° ë°°í„°ë¦¬', price: '45,000', rating: 4.5, img: 'https://picsum.photos/300/300?random=54' },
    { name: 'ë¬´ì„  ì¶©ì „ê¸°', price: '39,000', rating: 4.4, img: 'https://picsum.photos/300/300?random=55' }
  ];
  
  new Carousel.Carousel('#carousel_products', {
    items: products.map(p => ({
      content: `
        <div style="padding: 1rem; background: var(--bg-primary); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin: 0.5rem;">
          <div style="width: 100%; height: 180px; background: var(--bg-secondary); border-radius: 8px; overflow: hidden; margin-bottom: 1rem;">
            <img src="${p.img}" alt="${p.name}" style="width: 100%; height: 100%; object-fit: cover;">
          </div>
          <h4 style="margin: 0 0 0.5rem; font-size: 1rem;">${p.name}</h4>
          <div style="display: flex; align-items: center; gap: 4px; margin-bottom: 0.5rem;">
            <i class="material-icons-outlined" style="font-size: 16px; color: #f59e0b;">star</i>
            <span style="font-size: 0.875rem; color: var(--text-secondary);">${p.rating}</span>
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="font-weight: 700; color: var(--primary-color);">â‚©${p.price}</span>
            <button class="btn btn--primary btn--sm">ë‹´ê¸°</button>
          </div>
        </div>
      `
    })),
    slidesToShow: 4,
    slidesToScroll: 1,
    dots: true,
    responsive: [
      { breakpoint: 1200, settings: { slidesToShow: 3 } },
      { breakpoint: 992, settings: { slidesToShow: 2 } },
      { breakpoint: 576, settings: { slidesToShow: 1 } }
    ]
  });
  
  // 8. í›„ê¸° ìŠ¬ë¼ì´ë”
  const testimonials = [
    { name: 'ê¹€ë¯¼ìˆ˜', role: 'Frontend Developer', content: 'ì •ë§ í¸ë¦¬í•œ UI í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ê°œë°œ ì‹œê°„ì„ í¬ê²Œ ë‹¨ì¶•í•  ìˆ˜ ìˆì—ˆì–´ìš”.', avatar: 'K' },
    { name: 'ì´ì˜í¬', role: 'UX Designer', content: 'ì»´í¬ë„ŒíŠ¸ë“¤ì´ ê¹”ë”í•˜ê³  ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° ì‰¬ì›Œì„œ ë””ìì¸ ì‘ì—…ì´ ìˆ˜ì›”í–ˆìŠµë‹ˆë‹¤.', avatar: 'L' },
    { name: 'ë°•ì² ìˆ˜', role: 'Project Manager', content: 'ë¬¸ì„œí™”ê°€ ì˜ ë˜ì–´ ìˆì–´ì„œ íŒ€ì›ë“¤ì´ ë¹ ë¥´ê²Œ ì ì‘í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.', avatar: 'P' }
  ];
  
  new Carousel.Carousel('#carousel_testimonials', {
    items: testimonials.map(t => ({
      content: `
        <div style="text-align: center; padding: 2rem;">
          <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); color: white; font-size: 32px; font-weight: 600; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
            ${t.avatar}
          </div>
          <p style="font-size: 1.125rem; line-height: 1.8; color: var(--text-primary); margin-bottom: 1.5rem; font-style: italic;">
            "${t.content}"
          </p>
          <h4 style="margin: 0 0 0.25rem; font-size: 1rem;">${t.name}</h4>
          <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">${t.role}</p>
        </div>
      `
    })),
    autoplay: true,
    autoplaySpeed: 5000,
    dots: true,
    arrows: false
  });
})();
</script>

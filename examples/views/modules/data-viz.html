<!-- Breadcrumb -->
<div class="page-title-box">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#home">Home</a></li>
      <li class="breadcrumb-item"><a href="#modules">Modules</a></li>
      <li class="breadcrumb-item active">Data Visualization</li>
    </ol>
  </nav>
  <h1 class="page-title">Data Visualization</h1>
  <p class="page-description">ë°ì´í„° ì‹œê°í™” ì»´í¬ë„ŒíŠ¸ - DataTable, Chart, Masonry, Kanban, Calendar</p>
</div>

<div class="row">
  <!-- DataTable -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header" style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <h2 class="card__title">ğŸ“Š DataTable</h2>
          <p class="card__description">ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì´ ìˆëŠ” ë°ì´í„° í…Œì´ë¸”</p>
        </div>
        <a href="#" catui-href="views/modules/data-viz-advanced.html" class="btn btn--primary btn--sm">
          <i class="material-icons-outlined" style="font-size: 18px; vertical-align: middle;">arrow_forward</i>
          ê³ ê¸‰ ì˜ˆì œ
        </a>
      </div>
      <div class="card__body">
        <div id="demo_table"></div>
      </div>
    </div>
  </div>

  <!-- Chart - Bar & Line -->
  <div class="col-md-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“ˆ Bar Chart</h2>
      </div>
      <div class="card__body">
        <div id="demo_bar_chart"></div>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“‰ Line Chart</h2>
      </div>
      <div class="card__body">
        <div id="demo_line_chart"></div>
      </div>
    </div>
  </div>

  <!-- Chart - Pie & Doughnut -->
  <div class="col-md-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ¥§ Pie Chart</h2>
      </div>
      <div class="card__body">
        <div id="demo_pie_chart"></div>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ© Doughnut Chart</h2>
      </div>
      <div class="card__body">
        <div id="demo_doughnut_chart"></div>
      </div>
    </div>
  </div>

  <!-- Kanban -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“‹ Kanban Board</h2>
        <p class="card__description">ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ì¹´ë“œ ì´ë™ ê°€ëŠ¥</p>
      </div>
      <div class="card__body">
        <div id="demo_kanban" style="height: 450px;"></div>
      </div>
    </div>
  </div>

  <!-- Calendar -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ“… Calendar</h2>
        <p class="card__description">ì´ë²¤íŠ¸ê°€ ìˆëŠ” ìº˜ë¦°ë”</p>
      </div>
      <div class="card__body">
        <div id="demo_calendar"></div>
      </div>
    </div>
  </div>

  <!-- Masonry -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ğŸ§± Masonry Grid</h2>
        <p class="card__description">íƒ€ì¼ ë ˆì´ì•„ì›ƒ</p>
      </div>
      <div class="card__body">
        <div id="demo_masonry"></div>
      </div>
    </div>
  </div>

  <!-- ì‚¬ìš©ë²• -->
  <div class="col-12">
    <div class="card">
      <div class="card__header">
        <h2 class="card__title">ğŸ“– ì‚¬ìš©ë²•</h2>
      </div>
      <div class="card__body">
        <h3 style="margin-bottom: 1rem;">DataTable</h3>
        <pre><code>const DataViz = await IMCAT.use('data-viz');

const table = new DataViz.DataTable('#table', {
  data: [
    { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com' },
    { id: 2, name: 'ê¹€ì² ìˆ˜', email: 'kim@example.com' }
  ],
  columns: [
    { field: 'id', title: 'ID', width: '80px' },
    { field: 'name', title: 'ì´ë¦„' },
    { field: 'email', title: 'ì´ë©”ì¼' }
  ],
  sortable: true,
  paginate: true,
  pageSize: 10,
  // íˆ´ë°” ë²„íŠ¼ ê·¸ë£¹
  toolbar: {
    buttons: [
      { text: 'í¸ì§‘', icon: 'edit', class: 'btn--primary', onClick: () => {} },
      { text: 'ì‚­ì œ', icon: 'delete', class: 'btn--danger', onClick: () => {} }
    ]
  },
  onRowClick: (row, index) => console.log(row)
});</code></pre>

        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Chart</h3>
        <pre><code>// Bar Chart
const barChart = new DataViz.Chart('#chart', {
  type: 'bar', // 'bar', 'line', 'pie', 'doughnut'
  data: {
    labels: ['1ì›”', '2ì›”', '3ì›”'],
    datasets: [
      { label: 'íŒë§¤ëŸ‰', data: [120, 150, 180], color: '#667eea' }
    ]
  },
  height: 300,
  showLegend: true,
  showValues: true,
  animate: true
});

// Pie Chart
const pieChart = new DataViz.Chart('#pie', {
  type: 'pie',
  data: {
    labels: ['A', 'B', 'C'],
    datasets: [{ data: [30, 40, 30] }]
  }
});</code></pre>

        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Kanban</h3>
        <pre><code>const kanban = new DataViz.Kanban('#kanban', {
  columns: [
    {
      id: 'todo',
      title: 'í•  ì¼',
      cards: [
        { id: '1', title: 'ê¸°íšì„œ ì‘ì„±', tags: [{ text: 'ê¸‰í•¨', color: '#ef4444' }] }
      ]
    },
    { id: 'doing', title: 'ì§„í–‰ ì¤‘', cards: [] },
    { id: 'done', title: 'ì™„ë£Œ', cards: [] }
  ],
  onMove: (cardId, from, to) => console.log('ì´ë™:', cardId, from, to),
  onCardClick: (cardId) => console.log('í´ë¦­:', cardId),
  allowAddCard: true
});</code></pre>

        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Calendar</h3>
        <pre><code>const calendar = new DataViz.Calendar('#calendar', {
  defaultDate: new Date(),
  events: [
    { id: '1', title: 'ë¯¸íŒ…', date: '2024-03-15', color: '#667eea' },
    { id: '2', title: 'ë°œí‘œ', date: '2024-03-20', color: '#22c55e' }
  ],
  onDateClick: (date) => console.log('ë‚ ì§œ:', date),
  onEventClick: (eventId) => console.log('ì´ë²¤íŠ¸:', eventId),
  onMonthChange: (date) => console.log('ì›” ë³€ê²½:', date)
});

calendar.addEvent({ id: '3', title: 'íšŒì˜', date: '2024-03-25' });
calendar.goToDate('2024-04-01');</code></pre>

        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Masonry</h3>
        <pre><code>const masonry = new DataViz.Masonry('#grid', {
  columnWidth: 300,
  gap: 16,
  items: [
    { title: 'ì¹´ë“œ 1', content: 'ë‚´ìš©...' },
    { title: 'ì¹´ë“œ 2', content: 'ê¸´ ë‚´ìš©...' }
  ],
  render: (item) => `
    &lt;div class="card"&gt;
      &lt;h3&gt;${item.title}&lt;/h3&gt;
      &lt;p&gt;${item.content}&lt;/p&gt;
    &lt;/div&gt;
  `
});

masonry.addItem({ title: 'ìƒˆ ì¹´ë“œ', content: '...' });</code></pre>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script type="module">
  const DataViz = await IMCAT.use('data-viz');
  const instances = [];

  // ============================================
  // DataTable Demo
  // ============================================
  
  const tableData = [
    { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com', department: 'ê°œë°œíŒ€', salary: 5000000 },
    { id: 2, name: 'ê¹€ì² ìˆ˜', email: 'kim@example.com', department: 'ë””ìì¸íŒ€', salary: 4500000 },
    { id: 3, name: 'ì´ì˜í¬', email: 'lee@example.com', department: 'ë§ˆì¼€íŒ…íŒ€', salary: 4800000 },
    { id: 4, name: 'ë°•ì§€ë¯¼', email: 'park@example.com', department: 'ê°œë°œíŒ€', salary: 5200000 },
    { id: 5, name: 'ìµœìˆ˜ì§„', email: 'choi@example.com', department: 'ì¸ì‚¬íŒ€', salary: 4300000 },
    { id: 6, name: 'ì •ë¯¼í˜¸', email: 'jung@example.com', department: 'ê°œë°œíŒ€', salary: 5500000 },
    { id: 7, name: 'ê°•ì„œì—°', email: 'kang@example.com', department: 'ë””ìì¸íŒ€', salary: 4700000 },
    { id: 8, name: 'ìœ¤í•˜ë‚˜', email: 'yoon@example.com', department: 'ë§ˆì¼€íŒ…íŒ€', salary: 4600000 },
    { id: 9, name: 'ì„ì¬í˜„', email: 'lim@example.com', department: 'ê°œë°œíŒ€', salary: 5100000 },
    { id: 10, name: 'í•œì†Œí¬', email: 'han@example.com', department: 'ë””ìì¸íŒ€', salary: 4900000 },
    { id: 11, name: 'ì˜¤ì¤€ì„œ', email: 'oh@example.com', department: 'ì˜ì—…íŒ€', salary: 4400000 },
    { id: 12, name: 'ì‹ ì˜ˆì§„', email: 'shin@example.com', department: 'ê°œë°œíŒ€', salary: 5300000 }
  ];

  const table = new DataViz.DataTable('#demo_table', {
    data: tableData,
    columns: [
      { field: 'id', title: 'ID', width: '60px' },
      { field: 'name', title: 'ì´ë¦„', width: '120px' },
      { field: 'email', title: 'ì´ë©”ì¼' },
      { field: 'department', title: 'ë¶€ì„œ', width: '100px' },
      { 
        field: 'salary', 
        title: 'ì—°ë´‰', 
        width: '120px',
        render: (value) => `â‚©${value.toLocaleString()}`
      }
    ],
    sortable: true,
    paginate: true,
    pageSize: 5,
    toolbar: {
      buttons: [
        { 
          text: 'í¸ì§‘', 
          icon: 'edit', 
          class: 'btn--primary',
          onClick: () => alert('í¸ì§‘ ë²„íŠ¼ í´ë¦­!')
        },
        { 
          text: 'ì‚­ì œ', 
          icon: 'delete', 
          class: 'btn--danger',
          onClick: () => alert('ì‚­ì œ ë²„íŠ¼ í´ë¦­!')
        }
      ]
    },
    onRowClick: (row) => {
      console.log('Row clicked:', row);
    }
  });
  instances.push(table);

  // ============================================
  // Bar Chart Demo
  // ============================================
  
  const barChart = new DataViz.Chart('#demo_bar_chart', {
    type: 'bar',
    data: {
      labels: ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”'],
      datasets: [
        { label: 'ë§¤ì¶œ', data: [120, 190, 150, 220, 180, 250], color: '#667eea' },
        { label: 'ë¹„ìš©', data: [80, 100, 90, 120, 110, 130], color: '#f59e0b' }
      ]
    },
    height: 280,
    showLegend: true,
    showValues: false
  });
  instances.push(barChart);

  // ============================================
  // Line Chart Demo
  // ============================================
  
  const lineChart = new DataViz.Chart('#demo_line_chart', {
    type: 'line',
    data: {
      labels: ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”'],
      datasets: [
        { label: 'ë°©ë¬¸ì', data: [1200, 1900, 1500, 2200, 1800, 2500], color: '#22c55e' },
        { label: 'ê°€ì…ì', data: [300, 450, 400, 550, 500, 700], color: '#8b5cf6' }
      ]
    },
    height: 280,
    showLegend: true
  });
  instances.push(lineChart);

  // ============================================
  // Pie Chart Demo
  // ============================================
  
  const pieChart = new DataViz.Chart('#demo_pie_chart', {
    type: 'pie',
    data: {
      labels: ['Chrome', 'Safari', 'Firefox', 'Edge', 'Other'],
      datasets: [{ data: [65, 15, 10, 7, 3] }]
    },
    height: 280,
    showLegend: true
  });
  instances.push(pieChart);

  // ============================================
  // Doughnut Chart Demo
  // ============================================
  
  const doughnutChart = new DataViz.Chart('#demo_doughnut_chart', {
    type: 'doughnut',
    data: {
      labels: ['ì™„ë£Œ', 'ì§„í–‰ì¤‘', 'ëŒ€ê¸°', 'ì·¨ì†Œ'],
      datasets: [{ data: [45, 25, 20, 10] }]
    },
    height: 280,
    showLegend: true,
    showValues: true,
    colors: ['#22c55e', '#3b82f6', '#f59e0b', '#ef4444']
  });
  instances.push(doughnutChart);

  // ============================================
  // Kanban Demo
  // ============================================
  
  const kanban = new DataViz.Kanban('#demo_kanban', {
    columns: [
      {
        id: 'backlog',
        title: 'ë°±ë¡œê·¸',
        cards: [
          { id: '1', title: 'API ë¬¸ì„œ ì‘ì„±', description: 'REST API ë¬¸ì„œí™”', tags: [{ text: 'ë¬¸ì„œ', color: '#8b5cf6' }] },
          { id: '2', title: 'ë²„ê·¸ ìˆ˜ì •', tags: [{ text: 'ë²„ê·¸', color: '#ef4444' }] }
        ]
      },
      {
        id: 'todo',
        title: 'í•  ì¼',
        cards: [
          { id: '3', title: 'UI ë””ìì¸ ë¦¬ë·°', description: 'ìƒˆ ë””ìì¸ ê²€í† ', tags: [{ text: 'ë””ìì¸', color: '#3b82f6' }] }
        ]
      },
      {
        id: 'doing',
        title: 'ì§„í–‰ ì¤‘',
        cards: [
          { id: '4', title: 'ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„', description: 'OAuth 2.0 ì ìš©', tags: [{ text: 'ê°œë°œ', color: '#22c55e' }, { text: 'ì¤‘ìš”', color: '#f59e0b' }] }
        ]
      },
      {
        id: 'done',
        title: 'ì™„ë£Œ',
        cards: [
          { id: '5', title: 'ì´ˆê¸° ì„¤ì •', tags: [{ text: 'ì„¤ì •', color: '#64748b' }] }
        ]
      }
    ],
    onMove: (cardId, from, to) => {
      console.log(`Card ${cardId} moved from ${from} to ${to}`);
    },
    onCardClick: (cardId) => {
      console.log('Card clicked:', cardId);
    },
    allowAddCard: true
  });
  instances.push(kanban);

  // ============================================
  // Calendar Demo
  // ============================================
  
  const today = new Date();
  const year = today.getFullYear();
  const month = today.getMonth();

  const calendar = new DataViz.Calendar('#demo_calendar', {
    defaultDate: today,
    events: [
      { id: '1', title: 'íŒ€ ë¯¸íŒ…', date: new Date(year, month, 5), color: '#667eea' },
      { id: '2', title: 'í”„ë¡œì íŠ¸ ë°œí‘œ', date: new Date(year, month, 10), color: '#22c55e' },
      { id: '3', title: 'ì½”ë“œ ë¦¬ë·°', date: new Date(year, month, 15), color: '#f59e0b' },
      { id: '4', title: 'ë°°í¬', date: new Date(year, month, 15), color: '#ef4444' },
      { id: '5', title: 'ìŠ¤í”„ë¦°íŠ¸ íšŒê³ ', date: new Date(year, month, 20), color: '#8b5cf6' },
      { id: '6', title: 'ê¸°íš íšŒì˜', date: new Date(year, month, 25), color: '#3b82f6' },
      { id: '7', title: 'í…ŒìŠ¤íŠ¸', date: new Date(year, month, 25), color: '#22c55e' },
      { id: '8', title: 'ë¦´ë¦¬ì¦ˆ', date: new Date(year, month, 25), color: '#ef4444' }
    ],
    onDateClick: (date) => {
      console.log('Date clicked:', date);
    },
    onEventClick: (eventId) => {
      console.log('Event clicked:', eventId);
    }
  });
  instances.push(calendar);

  // ============================================
  // Masonry Demo
  // ============================================
  
  const masonryItems = [
    { title: 'í”„ë¡œì íŠ¸ A', content: 'ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” í˜ì‹ ì ì¸ ê¸°ìˆ ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.', color: '#667eea' },
    { title: 'ì•Œë¦¼', content: 'ì‹œìŠ¤í…œ ì ê²€ì´ ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.', color: '#f59e0b' },
    { title: 'í”„ë¡œì íŠ¸ B', content: 'ë‘ ë²ˆì§¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ì ê²½í—˜ ê°œì„ ì— ì´ˆì ì„ ë§ì¶”ê³  ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤. ë” ë§ì€ ë‚´ìš©ì´ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.', color: '#22c55e' },
    { title: 'ê³µì§€ì‚¬í•­', content: 'ìƒˆë¡œìš´ ì •ì±…ì´ ë°œí‘œë˜ì—ˆìŠµë‹ˆë‹¤.', color: '#3b82f6' },
    { title: 'í”„ë¡œì íŠ¸ C', content: 'ì„¸ ë²ˆì§¸ í”„ë¡œì íŠ¸ëŠ” ë°±ì—”ë“œ ìµœì í™”ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.', color: '#8b5cf6' },
    { title: 'ì´ë²¤íŠ¸', content: 'ë‹¤ìŒ ì£¼ì— íŒ€ ë¹Œë”© ì´ë²¤íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤. ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì¥ì†ŒëŠ” ì¶”í›„ ê³µì§€ë©ë‹ˆë‹¤.', color: '#ec4899' }
  ];

  const masonry = new DataViz.Masonry('#demo_masonry', {
    columnWidth: 280,
    gap: 16,
    items: masonryItems,
    render: (item) => `
      <div style="background: ${item.color}15; border-left: 4px solid ${item.color}; padding: 1rem; border-radius: 8px;">
        <h4 style="margin: 0 0 0.5rem; color: ${item.color};">${item.title}</h4>
        <p style="margin: 0; color: var(--text-secondary); font-size: 0.875rem;">${item.content}</p>
      </div>
    `
  });
  instances.push(masonry);

  // ì¸ìŠ¤í„´ìŠ¤ ë“±ë¡
  instances.forEach(inst => IMCAT.view.registerInstance(inst));

  console.log('Data Visualization ì˜ˆì œ ë¡œë“œ ì™„ë£Œ');
</script>

<!-- Page Title -->
<div class="page-title-box">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#home">Home</a></li>
      <li class="breadcrumb-item"><a href="#modules">Modules</a></li>
      <li class="breadcrumb-item active" aria-current="page">Pickers</li>
    </ol>
  </nav>
  <h1 class="page-title">Pickers - ì„ íƒê¸° ì»´í¬ë„ŒíŠ¸</h1>
  <p class="page-description">ë‚ ì§œ, ì‹œê°„, ìƒ‰ìƒ ì„ íƒ ë° ì¹´ìš´íŠ¸ë‹¤ìš´/ë””ë°ì´</p>
</div>

<div class="row">
  <!-- DatePicker -->
  <div class="col-md-6 col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">DatePicker - ë‚ ì§œ ì„ íƒ</h2>
        <p class="card__description">ë‹¬ë ¥ ê¸°ë°˜ ë‚ ì§œ ì„ íƒê¸°</p>
      </div>
      <div class="card__body">
        <div class="mb-3">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ê¸°ë³¸ ë‚ ì§œ ì„ íƒ</label>
          <input type="text" id="datepicker_basic">
        </div>
        <div class="mb-3">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ì„ íƒëœ ë‚ ì§œ</label>
          <input type="text" id="datepicker_preset">
        </div>
        <div id="datepicker_result" style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; font-size: 0.875rem;"></div>
      </div>
    </div>
  </div>

  <!-- TimePicker -->
  <div class="col-md-6 col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">TimePicker - ì‹œê°„ ì„ íƒ</h2>
        <p class="card__description">ë“œë¡­ë‹¤ìš´ ê¸°ë°˜ ì‹œê°„ ì„ íƒê¸°</p>
      </div>
      <div class="card__body">
        <div class="mb-3">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">15ë¶„ ê°„ê²©</label>
          <input type="text" id="timepicker_15">
        </div>
        <div class="mb-3">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">30ë¶„ ê°„ê²©</label>
          <input type="text" id="timepicker_30">
        </div>
        <div id="timepicker_result" style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; font-size: 0.875rem;"></div>
      </div>
    </div>
  </div>

  <!-- ColorPicker -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ColorPicker - ìƒ‰ìƒ ì„ íƒ</h2>
        <p class="card__description">í”„ë¦¬ì…‹ ìƒ‰ìƒ ë° ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì„ íƒ</p>
      </div>
      <div class="card__body">
        <div class="row">
          <div class="col-md-4">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ê¸°ë³¸ ìƒ‰ìƒ</label>
            <input type="text" id="colorpicker_basic">
          </div>
          <div class="col-md-4">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">í…Œë§ˆ ìƒ‰ìƒ</label>
            <input type="text" id="colorpicker_theme">
          </div>
          <div class="col-md-4">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ë¯¸ë¦¬ë³´ê¸°</label>
            <div id="color_preview" style="width: 100%; height: 40px; border-radius: 6px; background: #667eea; transition: background 0.3s;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Countdown -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">Countdown - ì¹´ìš´íŠ¸ë‹¤ìš´</h2>
        <p class="card__description">ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸ (í‘œì‹œ ë‹¨ìœ„ ì˜µì…˜ ì§€ì›)</p>
      </div>
      <div class="card__body">
        <div class="row" style="gap: 2rem;">
          <!-- ê¸°ë³¸ ì¹´ìš´íŠ¸ë‹¤ìš´ (ì¼/ì‹œ/ë¶„/ì´ˆ) -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">ğŸ† ìƒˆí•´ ì¹´ìš´íŠ¸ë‹¤ìš´ (ì „ì²´ í‘œì‹œ)</h4>
            <div id="countdown_newyear"></div>
          </div>
          
          <!-- ì‹œ/ë¶„/ì´ˆë§Œ í‘œì‹œ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">â±ï¸ ì‹œ:ë¶„:ì´ˆë§Œ í‘œì‹œ</h4>
            <div id="countdown_hms"></div>
          </div>
          
          <!-- ë¶„/ì´ˆë§Œ í‘œì‹œ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">â° ë¶„:ì´ˆë§Œ í‘œì‹œ (5ë¶„ íƒ€ì´ë¨¸)</h4>
            <div id="countdown_ms"></div>
          </div>
          
          <!-- ì´ˆë§Œ í‘œì‹œ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">â²ï¸ ì´ˆë§Œ í‘œì‹œ (60ì´ˆ íƒ€ì´ë¨¸)</h4>
            <div id="countdown_sec"></div>
          </div>
          
          <!-- ë ˆì´ë¸” ì—†ì´ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">ğŸ”¢ ë ˆì´ë¸” ì—†ì´ (ìˆ«ìë§Œ)</h4>
            <div id="countdown_nolabel"></div>
          </div>
          
          <!-- ì»¤ìŠ¤í…€ ë ˆì´ë¸” -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">ğŸŒ ì˜ë¬¸ ë ˆì´ë¸”</h4>
            <div id="countdown_en"></div>
          </div>
          
          <!-- ì‘ì€ ì‚¬ì´ì¦ˆ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">ğŸ“¦ Small ì‚¬ì´ì¦ˆ</h4>
            <div id="countdown_sm" class="countdown--sm"></div>
          </div>
          
          <!-- í° ì‚¬ì´ì¦ˆ -->
          <div class="col-md-6">
            <h4 style="margin-bottom: 1rem;">ğŸš€ Large ì‚¬ì´ì¦ˆ</h4>
            <div id="countdown_lg" class="countdown--lg"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- DDay -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">D-Day - ë””ë°ì´ ì¹´ìš´í„°</h2>
        <p class="card__description">íŠ¹ì • ë‚ ì§œê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜ í‘œì‹œ</p>
      </div>
      <div class="card__body">
        <div style="display: flex; flex-wrap: wrap; gap: 1.5rem;">
          <!-- ê¸°ë³¸ D-Day -->
          <div id="dday_basic"></div>
          
          <!-- ì¹´ë“œ ìŠ¤íƒ€ì¼ D-Day -->
          <div id="dday_card" class="dday--card"></div>
          
          <!-- ì§€ë‚œ D-Day -->
          <div id="dday_past"></div>
          
          <!-- ì˜¤ëŠ˜ D-Day -->
          <div id="dday_today"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì‹¤ì „ ì˜ˆì œ -->
  <div class="col-12">
    <div class="card mb-4">
      <div class="card__header">
        <h2 class="card__title">ì‹¤ì „ ì˜ˆì œ</h2>
        <p class="card__description">Picker ì¡°í•© í™œìš©</p>
      </div>
      <div class="card__body">
        <!-- ì´ë²¤íŠ¸ ë“±ë¡ í¼ -->
        <h4 style="margin-bottom: 1rem;">ğŸ“… ì´ë²¤íŠ¸ ë“±ë¡</h4>
        <div style="max-width: 500px; padding: 1.5rem; background: var(--bg-secondary); border-radius: 8px;">
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ì´ë²¤íŠ¸ëª…</label>
            <input type="text" id="event_name" placeholder="ì´ë²¤íŠ¸ëª… ì…ë ¥" style="width: 100%; padding: 0.625rem 1rem; border: 1px solid var(--border-color); border-radius: 6px; font-size: 0.9375rem;">
          </div>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div>
              <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ë‚ ì§œ</label>
              <input type="text" id="event_date">
            </div>
            <div>
              <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ì‹œê°„</label>
              <input type="text" id="event_time">
            </div>
          </div>
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">í…Œë§ˆ ìƒ‰ìƒ</label>
            <input type="text" id="event_color">
          </div>
          <button onclick="registerEvent()" style="width: 100%; padding: 0.75rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer;">
            ì´ë²¤íŠ¸ ë“±ë¡
          </button>
        </div>
        
        <!-- ë“±ë¡ëœ ì´ë²¤íŠ¸ -->
        <div id="event_list" style="margin-top: 1.5rem;"></div>
      </div>
    </div>
  </div>

  <!-- ì‚¬ìš©ë²• -->
  <div class="col-12">
    <div class="card">
      <div class="card__header">
        <h2 class="card__title">ì‚¬ìš©ë²•</h2>
      </div>
      <div class="card__body">
        <h3>DatePicker</h3>
        <pre><code>const Pickers = await IMCAT.use('pickers');

const datePicker = new Pickers.DatePicker('#date-input', {
  format: 'YYYY-MM-DD',
  locale: 'ko',
  onChange: (value) => console.log('ì„ íƒ:', value)
});

// ê°’ ì„¤ì •/ì¡°íšŒ
datePicker.setValue('2024-12-25');
datePicker.getValue();

// ì •ë¦¬
datePicker.destroy();</code></pre>

        <h3 style="margin-top: 2rem;">TimePicker</h3>
        <pre><code>const timePicker = new Pickers.TimePicker('#time-input', {
  step: 15,  // 15ë¶„ ê°„ê²©
  onChange: (value) => console.log('ì„ íƒ:', value)
});

timePicker.setValue('14:30');</code></pre>

        <h3 style="margin-top: 2rem;">ColorPicker</h3>
        <pre><code>const colorPicker = new Pickers.ColorPicker('#color-input', {
  defaultColor: '#667eea',
  presetColors: ['#ef4444', '#22c55e', '#3b82f6'],
  onChange: (color) => {
    document.body.style.setProperty('--theme-color', color);
  }
});</code></pre>

        <h3 style="margin-top: 2rem;">Countdown</h3>
        <pre><code>const countdown = new Pickers.Countdown('#countdown', {
  targetDate: '2025-01-01T00:00:00',
  labels: { days: 'ì¼', hours: 'ì‹œê°„', minutes: 'ë¶„', seconds: 'ì´ˆ' },
  onComplete: () => alert('ì¹´ìš´íŠ¸ë‹¤ìš´ ì™„ë£Œ!')
});

// ì œì–´
countdown.start();
countdown.stop();
countdown.setTarget('2025-06-01');</code></pre>

        <h3 style="margin-top: 2rem;">D-Day</h3>
        <pre><code>const dday = new Pickers.DDay('#dday', {
  targetDate: '2025-03-01',
  title: 'í”„ë¡œì íŠ¸ ë§ˆê°',
  showPastDays: true
});

// D-Day ì¡°íšŒ
console.log(dday.getDays()); // ë‚¨ì€ ì¼ìˆ˜

// ëŒ€ìƒ ë³€ê²½
dday.setTarget('2025-04-01', 'ìƒˆ ì´ë²¤íŠ¸');</code></pre>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script type="module">
  const Pickers = await IMCAT.use('pickers');
  const instances = [];

  // DatePicker
  const datepickerBasic = new Pickers.DatePicker('#datepicker_basic', {
    onChange: (value) => {
      document.getElementById('datepicker_result').innerHTML = `ì„ íƒëœ ë‚ ì§œ: <strong>${value}</strong>`;
    }
  });
  instances.push(datepickerBasic);

  const datepickerPreset = new Pickers.DatePicker('#datepicker_preset', {
    onChange: (value) => {
      document.getElementById('datepicker_result').innerHTML = `ì„ íƒëœ ë‚ ì§œ: <strong>${value}</strong>`;
    }
  });
  datepickerPreset.setValue('2024-12-25');
  instances.push(datepickerPreset);

  // TimePicker
  const timepicker15 = new Pickers.TimePicker('#timepicker_15', {
    step: 15,
    onChange: (value) => {
      document.getElementById('timepicker_result').innerHTML = `ì„ íƒëœ ì‹œê°„: <strong>${value}</strong>`;
    }
  });
  instances.push(timepicker15);

  const timepicker30 = new Pickers.TimePicker('#timepicker_30', {
    step: 30,
    onChange: (value) => {
      document.getElementById('timepicker_result').innerHTML = `ì„ íƒëœ ì‹œê°„: <strong>${value}</strong>`;
    }
  });
  instances.push(timepicker30);

  // ColorPicker
  const colorpickerBasic = new Pickers.ColorPicker('#colorpicker_basic', {
    onChange: (color) => {
      document.getElementById('color_preview').style.background = color;
    }
  });
  instances.push(colorpickerBasic);

  const colorpickerTheme = new Pickers.ColorPicker('#colorpicker_theme', {
    defaultColor: '#22c55e',
    presetColors: ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe', '#00f2fe'],
    onChange: (color) => {
      document.getElementById('color_preview').style.background = color;
    }
  });
  instances.push(colorpickerTheme);

  // Countdown - ìƒˆí•´ (ì „ì²´ í‘œì‹œ)
  const nextYear = new Date().getFullYear() + 1;
  const countdownNewyear = new Pickers.Countdown('#countdown_newyear', {
    targetDate: `${nextYear}-01-01T00:00:00`,
    onComplete: () => alert('ğŸ‰ ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš”!')
  });
  instances.push(countdownNewyear);

  // Countdown - ì‹œ:ë¶„:ì´ˆë§Œ í‘œì‹œ (1ì‹œê°„ í›„)
  const hmsTime = new Date(Date.now() + 3600000);
  const countdownHms = new Pickers.Countdown('#countdown_hms', {
    targetDate: hmsTime.toISOString(),
    showDays: false  // ì¼ ìˆ¨ê¹€
  });
  instances.push(countdownHms);

  // Countdown - ë¶„:ì´ˆë§Œ í‘œì‹œ (5ë¶„ íƒ€ì´ë¨¸)
  const msTime = new Date(Date.now() + 5 * 60000);
  const countdownMs = new Pickers.Countdown('#countdown_ms', {
    targetDate: msTime.toISOString(),
    showDays: false,
    showHours: false  // ì¼, ì‹œê°„ ìˆ¨ê¹€
  });
  instances.push(countdownMs);

  // Countdown - ì´ˆë§Œ í‘œì‹œ (60ì´ˆ íƒ€ì´ë¨¸)
  const secTime = new Date(Date.now() + 60000);
  const countdownSec = new Pickers.Countdown('#countdown_sec', {
    targetDate: secTime.toISOString(),
    showDays: false,
    showHours: false,
    showMinutes: false  // ì´ˆë§Œ í‘œì‹œ
  });
  instances.push(countdownSec);

  // Countdown - ë ˆì´ë¸” ì—†ì´
  const nolabelTime = new Date(Date.now() + 2 * 3600000);
  const countdownNolabel = new Pickers.Countdown('#countdown_nolabel', {
    targetDate: nolabelTime.toISOString(),
    showLabels: false  // ë ˆì´ë¸” ìˆ¨ê¹€
  });
  instances.push(countdownNolabel);

  // Countdown - ì˜ë¬¸ ë ˆì´ë¸”
  const enTime = new Date(Date.now() + 86400000);
  const countdownEn = new Pickers.Countdown('#countdown_en', {
    targetDate: enTime.toISOString(),
    labels: { days: 'Days', hours: 'Hrs', minutes: 'Min', seconds: 'Sec' }
  });
  instances.push(countdownEn);

  // Countdown - Small ì‚¬ì´ì¦ˆ
  const smTime = new Date(Date.now() + 3 * 3600000);
  const countdownSm = new Pickers.Countdown('#countdown_sm', {
    targetDate: smTime.toISOString()
  });
  instances.push(countdownSm);

  // Countdown - Large ì‚¬ì´ì¦ˆ
  const lgDate = new Date(Date.now() + 30 * 86400000);
  const countdownLg = new Pickers.Countdown('#countdown_lg', {
    targetDate: lgDate.toISOString()
  });
  instances.push(countdownLg);

  // D-Day
  const ddayBasic = new Pickers.DDay('#dday_basic', {
    targetDate: new Date(Date.now() + 30 * 86400000),
    title: 'í”„ë¡œì íŠ¸ ë§ˆê°'
  });
  instances.push(ddayBasic);

  const ddayCard = new Pickers.DDay('#dday_card', {
    targetDate: new Date(Date.now() + 100 * 86400000),
    title: 'ì—¬í–‰ ì¶œë°œ'
  });
  instances.push(ddayCard);

  const ddayPast = new Pickers.DDay('#dday_past', {
    targetDate: new Date(Date.now() - 15 * 86400000),
    title: 'ì¶œì‹œì¼'
  });
  instances.push(ddayPast);

  const ddayToday = new Pickers.DDay('#dday_today', {
    targetDate: new Date(),
    title: 'ì˜¤ëŠ˜ì˜ ì´ë²¤íŠ¸'
  });
  instances.push(ddayToday);

  // ì´ë²¤íŠ¸ í¼
  const eventDatePicker = new Pickers.DatePicker('#event_date', {});
  instances.push(eventDatePicker);

  const eventTimePicker = new Pickers.TimePicker('#event_time', { step: 30 });
  instances.push(eventTimePicker);

  const eventColorPicker = new Pickers.ColorPicker('#event_color', {
    presetColors: ['#ef4444', '#f59e0b', '#22c55e', '#3b82f6', '#8b5cf6', '#ec4899']
  });
  instances.push(eventColorPicker);

  // ì´ë²¤íŠ¸ ìƒì„± í•¨ìˆ˜
  window.registerEvent = function() {
    const name = document.getElementById('event_name').value;
    const date = eventDatePicker.getValue();
    const time = eventTimePicker.getValue();
    const color = eventColorPicker.getValue();

    if (!name || !date) {
      alert('ì´ë²¤íŠ¸ëª…ê³¼ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }

    const eventList = document.getElementById('event_list');
    const eventId = 'event_' + Date.now();
    
    eventList.innerHTML += `
      <div style="display: inline-flex; align-items: center; gap: 1rem; padding: 1rem 1.5rem; background: var(--bg-secondary); border-radius: 8px; border-left: 4px solid ${color}; margin-right: 1rem; margin-bottom: 1rem;">
        <div>
          <div style="font-weight: 600; color: var(--text-primary);">${name}</div>
          <div style="font-size: 0.875rem; color: var(--text-secondary);">${date} ${time || ''}</div>
        </div>
        <div id="${eventId}" style="margin-left: 1rem;"></div>
      </div>
    `;

    const dday = new Pickers.DDay('#' + eventId, {
      targetDate: date,
      title: ''
    });
    instances.push(dday);

    // í¼ ì´ˆê¸°í™”
    document.getElementById('event_name').value = '';
  };

  // ì¸ìŠ¤í„´ìŠ¤ ë“±ë¡
  instances.forEach(inst => IMCAT.view.registerInstance(inst));

  console.log('Pickers ì˜ˆì œ ë¡œë“œ ì™„ë£Œ');
</script>

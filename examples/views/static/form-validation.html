<!-- Page Metadata -->
<script type="application/json" id="pageMetadata">
{
  "info": {
    "icon": "verified",
    "title": "Form Validation 정보",
    "content": "<p><strong>컴포넌트:</strong> Form Validation</p><p><strong>타입:</strong> Static Component</p><p><strong>파일:</strong> _forms.scss</p><p><strong>클래스:</strong> .is-valid, .is-invalid</p>"
  },
  "usage": {
    "icon": "code",
    "title": "기본 사용법",
    "content": "<h4>HTML</h4><code>&lt;input class=\"form-control is-valid\"&gt;<br>&lt;div class=\"valid-feedback\"&gt;Success!&lt;/div&gt;</code>"
  },
  "features": {
    "icon": "check_circle",
    "title": "주요 기능",
    "items": [
      "✅ Valid/Invalid 상태",
      "✅ 피드백 메시지",
      "✅ HTML5 Validation",
      "✅ 실시간 검증",
      "✅ 다양한 검증 규칙"
    ]
  }
}
</script>

<!-- Page Title -->
<div class="page-title-box">
  <h4 class="page-title">Form Validation</h4>
  <ol class="breadcrumb m-0">
    <li class="breadcrumb-item"><a href="#">IMCAT UI</a></li>
    <li class="breadcrumb-item"><a href="#">Form Elements</a></li>
    <li class="breadcrumb-item active">Form Validation</li>
  </ol>
</div>

<!-- Content Start -->
<div class="row">
  <!-- Basic Validation States -->
  <div class="col-xl-6">
    <div class="card mb-4">
      <div class="card__header">
        <h4 class="card__title">Validation States</h4>
      </div>
      <div class="card__body">
        <div class="mb-3">
          <label for="validInput" class="form-label">Valid Input</label>
          <input type="text" class="form-control is-valid" id="validInput" value="john@example.com">
          <div class="valid-feedback">
            정상적으로 입력되었습니다!
          </div>
        </div>

        <div class="mb-3">
          <label for="invalidInput" class="form-label">Invalid Input</label>
          <input type="text" class="form-control is-invalid" id="invalidInput" value="john">
          <div class="invalid-feedback">
            올바른 이메일 형식이 아닙니다.
          </div>
        </div>

        <div class="mb-0">
          <label for="validTextarea" class="form-label">Valid Textarea</label>
          <textarea class="form-control is-valid" id="validTextarea" rows="3">내용이 입력되었습니다.</textarea>
          <div class="valid-feedback">
            완벽합니다!
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Select & Checkbox Validation -->
  <div class="col-xl-6">
    <div class="card mb-4">
      <div class="card__header">
        <h4 class="card__title">Select & Checkbox Validation</h4>
      </div>
      <div class="card__body">
        <div class="mb-3">
          <label for="validSelect" class="form-label">Valid Select</label>
          <select class="form-select is-valid" id="validSelect">
            <option selected>선택됨</option>
            <option>옵션 2</option>
          </select>
          <div class="valid-feedback">
            선택되었습니다!
          </div>
        </div>

        <div class="mb-3">
          <label for="invalidSelect" class="form-label">Invalid Select</label>
          <select class="form-select is-invalid" id="invalidSelect">
            <option selected>선택하세요</option>
            <option>옵션 1</option>
          </select>
          <div class="invalid-feedback">
            옵션을 선택해주세요.
          </div>
        </div>

        <div class="mb-0">
          <div class="form-check">
            <input class="form-check-input is-invalid" type="checkbox" id="invalidCheck">
            <label class="form-check-label" for="invalidCheck">
              이용약관에 동의합니다
            </label>
            <div class="invalid-feedback">
              약관에 동의해야 합니다.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- HTML5 Validation -->
  <div class="col-xl-12">
    <div class="card mb-4">
      <div class="card__header">
        <h4 class="card__title">HTML5 Form Validation (Live)</h4>
      </div>
      <div class="card__body">
        <form class="needs-validation" novalidate onsubmit="return validateForm(event)">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="validationName" class="form-label">이름 *</label>
              <input type="text" class="form-control" id="validationName" required>
              <div class="invalid-feedback">
                이름을 입력해주세요.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="validationEmail" class="form-label">이메일 *</label>
              <input type="email" class="form-control" id="validationEmail" required>
              <div class="invalid-feedback">
                올바른 이메일을 입력해주세요.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="validationUsername" class="form-label">사용자명 *</label>
            <div class="input-group">
              <span class="input-group-text">@</span>
              <input type="text" class="form-control" id="validationUsername" pattern="[a-zA-Z0-9]+" required>
              <div class="invalid-feedback">
                영문자와 숫자만 사용 가능합니다.
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="validationPassword" class="form-label">비밀번호 * (최소 8자)</label>
              <input type="password" class="form-control" id="validationPassword" minlength="8" required>
              <div class="invalid-feedback">
                최소 8자 이상 입력해주세요.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="validationAge" class="form-label">나이 * (18-100)</label>
              <input type="number" class="form-control" id="validationAge" min="18" max="100" required>
              <div class="invalid-feedback">
                18세 이상 100세 이하만 가능합니다.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="validationMessage" class="form-label">메시지 * (최소 10자)</label>
            <textarea class="form-control" id="validationMessage" rows="3" minlength="10" required></textarea>
            <div class="invalid-feedback">
              최소 10자 이상 입력해주세요.
            </div>
          </div>

          <div class="mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="validationAgree" required>
              <label class="form-check-label" for="validationAgree">
                이용약관에 동의합니다 *
              </label>
              <div class="invalid-feedback">
                약관에 동의해야 합니다.
              </div>
            </div>
          </div>

          <button class="btn btn-primary" type="submit">회원가입</button>
          <button class="btn btn-secondary ms-2" type="reset">초기화</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Password Strength Indicator -->
  <div class="col-xl-6">
    <div class="card mb-4">
      <div class="card__header">
        <h4 class="card__title">Password Strength Indicator</h4>
      </div>
      <div class="card__body">
        <label for="passwordStrength" class="form-label">비밀번호</label>
        <input type="password" class="form-control" id="passwordStrength" oninput="checkPasswordStrength(this.value)">
        <div class="mt-2">
          <div class="d-flex justify-content-between mb-1">
            <small>강도:</small>
            <small id="strengthText">-</small>
          </div>
          <div class="progress" style="height: 5px;">
            <div id="strengthBar" class="progress-bar" role="progressbar" style="width: 0%"></div>
          </div>
        </div>
        <div class="form-text mt-2">
          강한 비밀번호: 8자 이상, 대소문자, 숫자, 특수문자 포함
        </div>
      </div>
    </div>
  </div>

  <!-- Real-time Validation -->
  <div class="col-xl-6">
    <div class="card mb-4">
      <div class="card__header">
        <h4 class="card__title">Real-time Email Validation</h4>
      </div>
      <div class="card__body">
        <label for="emailCheck" class="form-label">이메일 확인</label>
        <input type="email" class="form-control" id="emailCheck" oninput="validateEmail(this)">
        <div id="emailFeedback" class="mt-2"></div>
        <div class="form-text">
          입력 중 실시간으로 검증됩니다.
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// HTML5 Form Validation
function validateForm(event) {
  event.preventDefault();
  const form = event.target;
  
  if (!form.checkValidity()) {
    event.stopPropagation();
    form.classList.add('was-validated');
    return false;
  }
  
  alert('폼이 성공적으로 제출되었습니다!');
  form.classList.remove('was-validated');
  form.reset();
  return false;
}

// Password Strength Checker
function checkPasswordStrength(password) {
  const strengthBar = document.getElementById('strengthBar');
  const strengthText = document.getElementById('strengthText');
  
  if (!password) {
    strengthBar.style.width = '0%';
    strengthBar.className = 'progress-bar';
    strengthText.textContent = '-';
    return;
  }
  
  let strength = 0;
  if (password.length >= 8) strength += 25;
  if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength += 25;
  if (password.match(/\d/)) strength += 25;
  if (password.match(/[^a-zA-Z\d]/)) strength += 25;
  
  strengthBar.style.width = strength + '%';
  
  if (strength <= 25) {
    strengthBar.className = 'progress-bar bg-danger';
    strengthText.textContent = '약함';
  } else if (strength <= 50) {
    strengthBar.className = 'progress-bar bg-warning';
    strengthText.textContent = '보통';
  } else if (strength <= 75) {
    strengthBar.className = 'progress-bar bg-info';
    strengthText.textContent = '강함';
  } else {
    strengthBar.className = 'progress-bar bg-success';
    strengthText.textContent = '매우 강함';
  }
}

// Real-time Email Validation
function validateEmail(input) {
  const feedback = document.getElementById('emailFeedback');
  const email = input.value;
  
  if (!email) {
    input.className = 'form-control';
    feedback.innerHTML = '';
    return;
  }
  
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  
  if (emailRegex.test(email)) {
    input.className = 'form-control is-valid';
    feedback.innerHTML = '<small class="text-success">✓ 올바른 이메일 형식입니다.</small>';
  } else {
    input.className = 'form-control is-invalid';
    feedback.innerHTML = '<small class="text-danger">✗ 올바른 이메일 형식이 아닙니다.</small>';
  }
}
</script>

// ============================================
// Cards Component
// 카드 컴포넌트 스타일
// ============================================

@use '../abstracts/variables' as *;

// ============================================
// Variables
// ============================================

$card-padding: 1.5rem !default;
$card-border-radius: 0.5rem !default;
$card-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08) !default;
$card-header-padding: 1rem 1.5rem !default;
$card-body-padding: 1.5rem !default;
$card-footer-padding: 1rem 1.5rem !default;

// ============================================
// Base Card
// ============================================

.card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: var(--bg-elevated);
  background-clip: border-box;
  border: 1px solid var(--border-color);
  border-radius: $card-border-radius;
  box-shadow: $card-box-shadow;
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  // Hover effect
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  }
}

// ============================================
// Card Image
// ============================================

.card__img {
  width: 100%;
  border-top-left-radius: calc(#{$card-border-radius} - 1px);
  border-top-right-radius: calc(#{$card-border-radius} - 1px);
  object-fit: cover;
}

.card__img-top {
  @extend .card__img;
}

.card__img-bottom {
  width: 100%;
  border-bottom-left-radius: calc(#{$card-border-radius} - 1px);
  border-bottom-right-radius: calc(#{$card-border-radius} - 1px);
  object-fit: cover;
}

// ============================================
// Card Header
// ============================================

.card__header {
  padding: $card-header-padding;
  margin-bottom: 0;
  background-color: var(--bg-secondary);
  border-bottom: 1px solid var(--border-color);
  border-top-left-radius: calc(#{$card-border-radius} - 1px);
  border-top-right-radius: calc(#{$card-border-radius} - 1px);

  &:first-child {
    border-radius: calc(#{$card-border-radius} - 1px) calc(#{$card-border-radius} - 1px) 0 0;
  }

  h5 {
    margin: 0;
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--text-primary);
  }
}

// ============================================
// Card Body
// ============================================

.card__body {
  flex: 1 1 auto;
  padding: $card-body-padding;
  color: var(--text-primary);
}

.card__title {
  margin-top: 0;
  margin-bottom: 0.75rem;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
}

.card__subtitle {
  margin-top: -0.375rem;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.card__text {
  margin-bottom: 0;
  color: var(--text-primary);
  line-height: 1.6;

  &:last-child {
    margin-bottom: 0;
  }
}

.card__link {
  color: var(--primary-color);
  text-decoration: none;
  transition: color 0.2s ease;

  &:hover {
    color: var(--primary-dark);
    text-decoration: underline;
  }

  & + & {
    margin-left: 1rem;
  }
}

// ============================================
// Card Footer
// ============================================

.card__footer {
  padding: $card-footer-padding;
  background-color: var(--bg-secondary);
  border-top: 1px solid var(--border-color);
  border-bottom-left-radius: calc(#{$card-border-radius} - 1px);
  border-bottom-right-radius: calc(#{$card-border-radius} - 1px);

  &:last-child {
    border-radius: 0 0 calc(#{$card-border-radius} - 1px) calc(#{$card-border-radius} - 1px);
  }
}

// ============================================
// Card Image Overlay
// ============================================

.card__img-overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding: 1.5rem;
  border-radius: calc(#{$card-border-radius} - 1px);
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.6));
  color: white;

  .card__title,
  .card__text {
    color: white;
  }
}

// ============================================
// Card Variants - Colored
// ============================================

.card--primary {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

.card--secondary {
  background-color: var(--secondary-color);
  color: white;
  border-color: var(--secondary-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

.card--success {
  background-color: var(--success-color);
  color: white;
  border-color: var(--success-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

.card--danger {
  background-color: var(--danger-color);
  color: white;
  border-color: var(--danger-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

.card--warning {
  background-color: var(--warning-color);
  color: white;
  border-color: var(--warning-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

.card--info {
  background-color: var(--info-color);
  color: white;
  border-color: var(--info-color);

  .card__title,
  .card__text,
  .card__header,
  .card__footer {
    color: white;
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
}

// ============================================
// Card Variants - Outlined
// ============================================

.card--outline {
  background-color: transparent;
  border: 2px solid var(--border-color);
}

// ============================================
// Card List Group
// ============================================

.card__list-group {
  list-style: none;
  padding: 0;
  margin: 0;
}

.card__list-item {
  padding: 0.75rem 1.5rem;
  border-bottom: 1px solid var(--border-color);

  &:first-child {
    border-top: 1px solid var(--border-color);
  }

  &:last-child {
    border-bottom: none;
  }
}

// ============================================
// Card Horizontal
// ============================================

.card--horizontal {
  flex-direction: row;

  .card__img,
  .card__img-top,
  .card__img-bottom {
    width: 200px;
    min-width: 200px;
    height: auto;
    object-fit: cover;
    border-radius: calc(#{$card-border-radius} - 1px) 0 0 calc(#{$card-border-radius} - 1px);
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  .card__body {
    flex: 1;
  }
}

// ============================================
// Card Group
// ============================================

.card-group {
  display: flex;
  flex-flow: row wrap;
  gap: 1.5rem;

  .card {
    flex: 1 1 0;
    margin-bottom: 0;
  }
}

// ============================================
// Card Deck
// ============================================

.card-deck {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;

  @media (min-width: 576px) {
    flex-flow: row wrap;
    
    .card {
      flex: 1 0 0;
    }
  }
}

// ============================================
// Card Columns (Masonry)
// ============================================

.card-columns {
  column-count: 1;
  column-gap: 1.5rem;
  orphans: 1;
  widows: 1;

  @media (min-width: 576px) {
    column-count: 2;
  }

  @media (min-width: 992px) {
    column-count: 3;
  }

  .card {
    display: inline-block;
    width: 100%;
    margin-bottom: 1.5rem;
  }
}

// ============================================
// Dark Theme
// ============================================

[data-theme="dark"] {
  .card {
    background-color: var(--bg-elevated);
    border-color: var(--border-color);

    &:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
  }

  .card__header,
  .card__footer {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
  }

  .card__title {
    color: var(--text-primary);
  }

  .card__subtitle,
  .card__text {
    color: var(--text-primary);
  }

  .card__link {
    color: var(--primary-color);

    &:hover {
      color: var(--primary-light);
    }
  }

  .card__list-item {
    border-color: var(--border-color);
  }
}
